<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="description" content="Afraid because of breaking changes? Learn how do we plan to reduce breaking changes in our tooling APIs by introducing a new design approach called Intent-driven."/><link rel="alternate" type="application/rss+xml" title="RSS Feed for AsyncAPI Initiative Blog" href="/rss.xml"/><link rel="icon" href="/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="194x194" href="/favicon-194x194.png"/><meta itemProp="name" content="Designing a unified Intent-driven API for all AsyncAPI&#x27;s parsers | AsyncAPI Initiative for event-driven APIs"/><meta itemProp="description" content="Afraid because of breaking changes? Learn how do we plan to reduce breaking changes in our tooling APIs by introducing a new design approach called Intent-driven."/><meta itemProp="image" content="http://localhost:8080/img/posts/intent-driven-api/cover.webp"/><meta name="twitter:card" value="summary_large_image"/><meta name="twitter:title" content="Designing a unified Intent-driven API for all AsyncAPI&#x27;s parsers | AsyncAPI Initiative for event-driven APIs"/><meta name="twitter:description" content="Afraid because of breaking changes? Learn how do we plan to reduce breaking changes in our tooling APIs by introducing a new design approach called Intent-driven."/><meta name="twitter:image" content="http://localhost:8080/img/posts/intent-driven-api/cover.webp"/><meta property="og:title" content="Designing a unified Intent-driven API for all AsyncAPI&#x27;s parsers | AsyncAPI Initiative for event-driven APIs"/><meta property="og:type" content="article"/><meta property="og:url" content="http://localhost:8080/blog/intent-driven-api"/><meta property="og:image" content="http://localhost:8080/img/posts/intent-driven-api/cover.webp"/><meta property="og:description" content="Afraid because of breaking changes? Learn how do we plan to reduce breaking changes in our tooling APIs by introducing a new design approach called Intent-driven."/><title>Designing a unified Intent-driven API for all AsyncAPI&#x27;s parsers | AsyncAPI Initiative for event-driven APIs</title><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cb852c7b57ed596" async=""></script><style>
                /* AddThis hack */

                #at4-share {
                    left: 50%;
                    margin-left: -500px !important;

                    &amp;amp;.addthis-animated {
                      animation-duration: 0s !important;
                    }
                }

                #at4-scc {
                    display: none !important;
                }
              </style><meta name="next-head-count" content="25"/><link rel="preload" href="/_next/static/css/cedf33f8fb65848f9ac5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cedf33f8fb65848f9ac5.css"/><link rel="preload" href="/_next/static/css/99208ff840280a9dc815.css" as="style"/><link rel="stylesheet" href="/_next/static/css/99208ff840280a9dc815.css"/><link rel="preload" href="/_next/static/Tex625tf_lnUaoCgL3YGh/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/Tex625tf_lnUaoCgL3YGh/pages/blog/intent-driven-api.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-c212667a5f965e81e004.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.4dd1003cc9c949c7fcd3.js" as="script"/><link rel="preload" href="/_next/static/chunks/75fc9c18.3cfc8ccb85c1d7a11215.js" as="script"/><link rel="preload" href="/_next/static/chunks/ce56b752.ae226c74e10a6a4b10b8.js" as="script"/><link rel="preload" href="/_next/static/chunks/0557f841fc85a2834d7f888fce8afe60a4489f1d.c7c389ed4e650b7acdd9.js" as="script"/><link rel="preload" href="/_next/static/chunks/5d64a570782c3ceba4f83b61f6533a7ee91bc9f8.3990439058315e1f2df7.js" as="script"/><link rel="preload" href="/_next/static/chunks/be6d319af1fb18412639ef154d1e4d762d2a273e.4cb9699241b781436ae4.js" as="script"/><link rel="preload" href="/_next/static/chunks/4f5700c3a68d16ffc40162e6214bdf91e1aeaf40.af98a8a489a62e744487.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-9425739e3a9a3f3edaa6.js" as="script"/></head><body><div id="__next"><div class="max-w-4xl block   px-4 sm:px-6 lg:px-8 mx-auto block   px-4 sm:px-6 lg:px-8"><div class="relative bg-white  z-50"><div class="flex w-full justify-between items-center py-6 lg:justify-start lg:space-x-10"><div class="lg:w-auto lg:flex-1"><a href="/" class="flex"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 535.016 126.327" xml:space="preserve" class="h-8 w-auto sm:h-8"><g fill="#1D1D1B"><path d="M154.912 21.665h10.54l24.425 71.451h-8.713l-5.678-17.129h-30.402l-5.677 17.129h-8.816l24.321-71.451zm18.343 46.821l-12.87-38.917-13.173 38.917h26.043zM202.901 92.709c-3.212-1.555-5.796-3.699-7.752-6.436-1.964-2.736-3.042-5.861-3.245-9.375l7.5-1.723c.134 2.568.844 4.832 2.128 6.791 1.281 1.961 3.005 3.445 5.168 4.459 2.162 1.012 4.561 1.52 7.196 1.52 2.295 0 4.357-.336 6.183-1.014 1.822-.674 3.292-1.672 4.408-2.99 1.116-1.318 1.671-2.752 1.671-4.307 0-1.756-.606-3.191-1.822-4.309-1.219-1.113-2.706-1.99-4.46-2.633-1.757-.643-4.054-1.334-6.893-2.08-3.92-1.012-7.11-2.025-9.578-3.037-2.464-1.015-4.544-2.517-6.232-4.511-1.691-1.993-2.533-4.612-2.533-7.854 0-2.838.76-5.423 2.281-7.753 1.519-2.33 3.579-4.156 6.18-5.473 2.602-1.317 5.525-1.976 8.769-1.976 3.176 0 6.116.659 8.818 1.976 2.699 1.317 4.898 3.127 6.585 5.422 1.688 2.298 2.672 4.864 2.94 7.704l-7.5 1.924c-.136-3.105-1.232-5.555-3.294-7.348-2.062-1.787-4.646-2.684-7.752-2.684-1.757 0-3.361.337-4.816 1.012-1.452.675-2.599 1.621-3.444 2.838a6.952 6.952 0 00-1.267 4.054c0 1.758.609 3.192 1.825 4.306 1.216 1.114 2.448 1.926 3.701 2.432 1.249.508 3.831 1.202 7.75 2.08 3.717 1.013 6.842 2.093 9.375 3.241 2.534 1.151 4.646 2.704 6.333 4.663 1.688 1.961 2.535 4.393 2.535 7.297 0 3.041-.88 5.795-2.635 8.26-1.758 2.467-4.14 4.393-7.145 5.777-3.009 1.385-6.402 2.078-10.188 2.078-3.985.001-7.582-.776-10.79-2.331zM246.73 116.322a25.078 25.078 0 01-8.359-5.777 26.296 26.296 0 01-5.524-8.613l6.486-4.357c1.147 4.119 3.277 7.447 6.384 9.98s6.722 3.803 10.845 3.803c3.176 0 5.963-.795 8.359-2.383 2.399-1.588 4.292-3.75 5.678-6.486 1.385-2.734 2.078-5.828 2.078-9.271l-.102-6.893c-.947 1.689-2.197 3.191-3.749 4.51a18.41 18.41 0 01-5.17 3.09c-1.893.744-3.816 1.117-5.776 1.117-3.513 0-6.638-.863-9.375-2.584-2.737-1.723-4.849-4.088-6.333-7.096-1.488-3.006-2.229-6.469-2.229-10.389V41.934h7.702v33.039c0 2.57.472 4.814 1.419 6.74.943 1.926 2.295 3.463 4.052 4.611 1.754 1.15 3.784 1.723 6.081 1.723 2.497 0 4.762-.609 6.791-1.824 2.025-1.217 3.632-2.887 4.812-5.016 1.184-2.129 1.775-4.545 1.775-7.246V41.934h7.701l.102 51.283c0 4.797-1.012 9.102-3.041 12.92-2.025 3.816-4.831 6.807-8.411 8.969-3.583 2.162-7.602 3.244-12.059 3.244-3.584 0-6.961-.676-10.137-2.028zM290.513 41.934h6.994l.708 6.791c1.419-2.635 3.479-4.746 6.185-6.335 2.7-1.584 5.538-2.381 8.511-2.381 3.514 0 6.639.88 9.375 2.635 2.737 1.759 4.865 4.14 6.385 7.145 1.521 3.009 2.281 6.437 2.281 10.288v33.04h-7.804v-33.04c0-2.499-.457-4.728-1.37-6.689-.911-1.958-2.263-3.497-4.054-4.611-1.79-1.114-3.833-1.673-6.131-1.673-2.432 0-4.66.61-6.688 1.826-2.025 1.216-3.648 2.887-4.864 5.016-1.216 2.128-1.825 4.544-1.825 7.246v31.925h-7.702V41.934zM350 91.492c-3.646-2.365-6.483-5.623-8.511-9.779s-3.009-8.869-2.94-14.137c0-5.337.93-10.084 2.788-14.241 1.858-4.155 4.475-7.413 7.854-9.779 3.377-2.365 7.262-3.548 11.655-3.548 3.378 0 6.486.746 9.323 2.23a21.238 21.238 0 017.146 6.03c1.923 2.533 3.255 5.489 4.003 8.867l-7.4 2.027c-.946-3.714-2.585-6.689-4.915-8.917-2.33-2.23-5.084-3.345-8.26-3.345-2.701 0-5.169.878-7.397 2.635s-3.969 4.207-5.219 7.346c-1.251 3.143-1.877 6.708-1.877 10.694 0 3.986.693 7.535 2.08 10.639 1.383 3.109 3.31 5.559 5.776 7.35 2.466 1.791 5.254 2.686 8.36 2.686 2.7 0 5.15-.641 7.346-1.926 2.196-1.283 3.989-3.074 5.372-5.371 1.387-2.297 2.283-4.898 2.686-7.805l7.4 1.623c-.542 3.918-1.876 7.414-4.003 10.488-2.131 3.074-4.816 5.475-8.058 7.197-3.243 1.721-6.827 2.584-10.743 2.584-4.66.001-8.815-1.183-12.466-3.548zM412.529 21.36h15.001l24.426 71.755h-12.67l-4.966-15.912h-28.375l-5.27 15.912h-12.468l24.322-71.755zm19.055 46.013l-11.453-35.27-11.652 35.27h23.105zM458.743 21.36h28.176c4.797 0 9.087.949 12.87 2.84 3.782 1.891 6.773 4.526 8.969 7.903 2.196 3.379 3.296 7.232 3.296 11.555 0 4.324-1.082 8.157-3.245 11.503-2.163 3.343-5.152 5.996-8.969 7.955-3.816 1.96-8.092 2.939-12.822 2.939h-16.416v27.06h-11.858V21.36zm26.859 34.56c2.635 0 5.049-.523 7.246-1.572 2.194-1.045 3.918-2.497 5.167-4.357 1.252-1.856 1.876-3.969 1.876-6.333s-.607-4.475-1.823-6.335c-1.218-1.856-2.905-3.31-5.068-4.357-2.162-1.047-4.628-1.572-7.397-1.572h-15V55.92h14.999zM519.855 21.36h12.16v71.755h-12.16V21.36z"></path></g><path fill="#4775B9" d="M46.5 121.416c-23.583 0-42.768-14.301-42.768-31.879h8.469c0 12.908 15.387 23.408 34.299 23.408s34.299-10.5 34.299-23.408h8.469c.001 17.578-19.183 31.879-42.768 31.879zM89.269 33.878H80.8c0-12.906-15.387-23.407-34.299-23.407s-34.299 10.5-34.299 23.407h-8.47C3.732 16.3 22.918 2 46.5 2c23.585 0 42.769 14.3 42.769 31.878z"></path><path fill="#63BA90" d="M6.715 57.486H61.114999999999995V65.955H6.715z" transform="rotate(35.914 33.912 61.719)"></path><path fill="#63BA90" d="M32.225 57.438H86.625V65.906H32.225z" transform="rotate(35.914 59.422 61.671)"></path></svg></a></div><div class="-mr-2 -my-2 lg:hidden"><button type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out"><svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div><nav class="hidden lg:flex space-x-10"><div class="relative"><button type="button" class=" group text-gray-500 inline-flex items-center space-x-2 text-base leading-6 font-medium hover:text-gray-900 focus:outline-none focus:text-gray-900 transition ease-in-out duration-150"><span>Learning</span><svg class="text-gray-400 h-5 w-5 group-hover:text-gray-500 group-focus:text-gray-500 transition ease-in-out duration-150" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="relative"><button type="button" class=" group text-gray-500 inline-flex items-center space-x-2 text-base leading-6 font-medium hover:text-gray-900 focus:outline-none focus:text-gray-900 transition ease-in-out duration-150"><span>Tools</span><svg class="text-gray-400 h-5 w-5 group-hover:text-gray-500 group-focus:text-gray-500 transition ease-in-out duration-150" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="relative"><button type="button" class=" group text-gray-500 inline-flex items-center space-x-2 text-base leading-6 font-medium hover:text-gray-900 focus:outline-none focus:text-gray-900 transition ease-in-out duration-150"><span>Community</span><svg class="text-gray-400 h-5 w-5 group-hover:text-gray-500 group-focus:text-gray-500 transition ease-in-out duration-150" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><a href="/blog" target="_self" class=" text-base leading-6 font-medium text-gray-500 hover:text-gray-900 focus:outline-none focus:text-gray-900 transition ease-in-out duration-150">Blog</a><a href="/roadmap" target="_self" class="text-green-400 font-bold text-base leading-6 font-medium text-gray-500 hover:text-gray-900 focus:outline-none focus:text-gray-900 transition ease-in-out duration-150">Roadmap</a><a href="/jobs" target="_self" class="text-primary-500 font-bold text-base leading-6 font-medium text-gray-500 hover:text-gray-900 focus:outline-none focus:text-gray-900 transition ease-in-out duration-150">Jobs</a></nav><div class="hidden lg:flex lg:flex-1"></div></div></div></div><div class="max-w-4xl lg:flex lg:flex-row-reverse  px-4 sm:px-6 lg:px-8 mx-auto lg:flex lg:flex-row-reverse  px-4 sm:px-6 lg:px-8"><div class="bg-blue-100 mt-4 p-4 sticky top-0 overflow-y-auto max-h-screen lg:bg-transparent lg:mt-0 lg:pt-0 lg:pb-8 lg:top-4 lg:max-h-(screen-16) lg:border-l lg:border-gray-200 lg:min-w-40 lg:max-w-64 lg:-mr-20 xl:min-w-72 xl:-mr-36  lg:block z-20"><div class="flex cursor-pointer  lg:cursor-auto"><h5 class="false flex-1 text-primary-500 font-medium uppercase tracking-wide text-sm font-sans antialiased lg:mb-4 lg:text-xs lg:text-gray-500 lg:font-thin">On this page</h5><div class="text-underline text-center p4 lg:hidden"><svg class="rotate-90 transform transition duration-200 ease-in-out h-6 -mt-0.5 text-primary-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></div></div><div class="hidden lg:block"><div class=""><a class="pl-0 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#what-is-a-breaking-change">What is a breaking change?</a><a class="pl-0 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#designing-apis-that-are-resilient-to-breaking-changes">Designing APIs that are resilient to breaking changes</a><a class="pl-2 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#be-ready-for-what-the-user-needs">Be ready for what the user needs</a><a class="pl-2 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#intent-driven-design-to-the-rescue">Intent-driven design to the rescue</a><a class="pl-0 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#designing-a-unified-intent-driven-api-for-all-asyncapis-parsers">Designing a unified Intent-driven API for all AsyncAPI&#x27;s parsers</a><a class="pl-2 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#1-identify-how-users-use-the-library">1. Identify how users use the library</a><a class="pl-2 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#2-transform-potential-intents-to-actual-intents">2. Transform potential intents to actual intents</a><a class="pl-2 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#3-build-a-mock-api">3. Build a mock API</a><a class="pl-2 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#4-validate-the-intents-and-their-ux">4. Validate the intents and their UX</a><a class="pl-2 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#5-wrap-up-documentation">5. Wrap up documentation</a><a class="pl-0 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#whats-next">What&#x27;s next?</a><a class="pl-0 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#related-issues-and-links">Related issues and links</a><a class="pl-0 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#conclusion">Conclusion</a></div></div></div><main class="mt-8 px-4 sm:px-6 lg:pr-8 lg:pl-0 lg:flex-1 lg:max-w-172 xl:max-w-172"><header class="pr-4 sm:pr-6 md:pr-8"><h1 class="text-4xl font-normal text-gray-800 font-sans antialiased">Designing a unified Intent-driven API for all AsyncAPI&#x27;s parsers</h1><div class="mt-6 flex items-center"><div class="relative flex-shrink-0"><a alt="Sergio Moya" href="https://twitter.com/smoyac"><img title="Sergio Moya" class="relative mr-0 z-0 h-10 w-10 border-2 border-white rounded-full object-cover hover:z-50" src="/img/avatars/smoya.webp"/></a></div><div class="ml-3"><p class="text-sm leading-5 font-medium text-gray-900"><span class="hover:underline"><a alt="Sergio Moya" href="https://twitter.com/smoyac">Sergio Moya</a></span></p><div class="flex text-sm leading-5 text-gray-500"><time dateTime="2021-05-07T05:00:00.000Z">May 7, 2021</time><span class="mx-1">·</span><span>13<!-- --> min read</span></div></div></div></header><article class="mb-32"><img src="/img/posts/intent-driven-api/cover.webp" class="mt-6 mb-6 w-full"/><p class=" my-4 text-gray-700 font-normal font-sans antialiased">The <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">Free and Open-Source Software</strong> (FOSS) model, since its inception, has brought a flurry of libraries and applications available to everyone. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Thanks to the growth of the open-source community, we can now enjoy free software and, in most cases, generate profit from it.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">I believe there is no tech company that doesn&#x27;t use open source in one way or another.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">FOSS has changed the way most developers operate: from coding all features from scratch to become consumers of libraries that implement most of the basic operation of an application. Sometimes even the core logic of the application is baked with free software.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">So much so that I, as a developer, can&#x27;t imagine having to implement a complex application from scratch. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">If we go a step further, we won&#x27;t talk only about libraries but also about APIs as services. For example, the fast adoption of the <a href="https://jamstack.org" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Jamstack</a> architecture, where the backend consists of different API services (primarily third-party), is pushing SaaS companies to make their private APIs public.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">In short, applications worldwide depend on free libraries maintained by the community, which constantly deliver updates at a frenetic rate: new functionalities, fixes, or in many other cases, drastic changes that allow us to continue growing and maintaining those libraries or APIs.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased"><undefined>The latter is, precisely, a problem for many developers. The feared <span role="img" aria-label="ghost">👻</span>  </undefined><strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">breaking changes</strong><undefined> <span role="img" aria-label="ghost">👻</span>.</undefined></p><blockquote class=" italic font-sans antialiased text-gray-400 border-l-4 border-gray-400 pl-4 pt-1 pb-1 pr-1 my-4 bg-white"><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Disclaimer: This post provides examples from the point of view of a software library API maintainer. However, the same principles apply to any other API, such as command-line tools, REST, Kernel modules, or peripheral drivers.</p></blockquote><h1 id="what-is-a-breaking-change" class=" my-4 font-sans antialiased font-medium text-2xl">What is a breaking change?</h1><blockquote class=" italic font-sans antialiased text-gray-400 border-l-4 border-gray-400 pl-4 pt-1 pb-1 pr-1 my-4 bg-white"><p class=" my-4 text-gray-700 font-normal font-sans antialiased">A change in one part of a software system that potentially causes other components to fail; occurs most often in shared libraries of code used by multiple applications.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Source: <a href="https://en.wiktionary.org/wiki/breaking_change" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">https://en.wiktionary.org/wiki/breaking_change</a></p></blockquote><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Breaking changes are non-backward compatible changes in the public interface of an application, either a library, an API service, or even a command-line utility.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Users of such software are forced to alter their code if they want to use the latest version; otherwise, their code will be unusable.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">I propose a metaphor to better understand what a <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">breaking change</strong> is. By the way, based on something that happened to me a few days ago.
Imagine that your preferred supermarket, the one you have been going to for several years, decides to restructure its interior completely. Where you could find the fruit, now you only find water and other drinks. At this point, I have three options:</p><ol class=" my-4 ml-4 list-decimal text-gray-700 font-normal font-sans antialiased"><li class=" my-3 text-gray-700 font-normal font-sans antialiased">You adapt yourself to the new layout and changes made to the surface. It will take a few days or maybe weeks to know where each product is, but in return, you can continue shopping at your favorite supermarket.</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Seek another supermarket that does not make drastic changes. In case they want to make changes, changes to be less and communicated in advance.</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Decide that you will devote all your efforts to grow your vegetables, raise your cattle, ride a water purification plant, and everything it takes to not rely on any supermarket or store.</li></ol><p class=" my-4 text-gray-700 font-normal font-sans antialiased">I went for the first option. Today I still get lost when I go shopping, but at least pasta is still on the same shelf as it was!</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">In the software world, the first option would mean to update your code, so you avoid breaking changes.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Therefore, the second option would be to look for another library or an API designed to avoid, as far as possible, these breaking changes. Building an API that meets this requirement is the primary purpose of this post.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Finally, the third option would be to make zero use of FOSS. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">How can we mitigate the impact on users when releasing a new <a href="https://semver.org/#summary" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">major</a> version of our library or service API?</p><h1 id="designing-apis-that-are-resilient-to-breaking-changes" class=" my-4 font-sans antialiased font-medium text-2xl">Designing APIs that are resilient to breaking changes</h1><p class=" my-4 text-gray-700 font-normal font-sans antialiased">APIs solve user needs. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">However, I believe we do not listen to the final users that much. Instead, we tend to expose functionalities based on our own experience, biased by our position or the knowledge we own of the platform behind. Sometimes guided by preliminary research (Product-oriented) or lead with a not-so-clear goal in mind. At least I used to do it in that way.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Not an easy journey, but I can promise you it is worth it.
As <em>Mark Dalgleish</em> once tweeted:</p><div></div><h2 id="be-ready-for-what-the-user-needs" class=" my-4 font-sans antialiased font-medium text-xl">Be ready for what the user needs</h2><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Focusing on what the user needs pulls away most of the overprint of any API: What is the user <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">intention</strong> when asking for a particular action to happen?</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">An Intent represents a user intention of performing an action that solves a clear use case.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Continuing with the metaphor presented in the previous paragraph, notice that my only intention was to <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">buy groceries for dinner</strong>. In particular, I needed some avocados, tomatoes and a baguette.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">The supermarket should provide a mechanism that lets me buy those items. How to get those, it&#x27;s just the implementation detail and can be up to each supermarket to decide how to do it. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">For example, my supermarket had shelves where customers can pick up fruits from, offers bags, a balance to know the weight of those, and a checkout place. However, after the last changes, fruits are weighted at checkout, and baguettes are no longer on the shelf. So you need to ask the baker. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">As you can see, the interface didn&#x27;t change: I still can buy the groceries. However, the implementation completely changed.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Building APIs based on the implementation detail will nothing less than lead your users to suffer the (not-so-good) design choices made in the past. Furthermore, each change you make will penalize the user experience and force them to upgrade their code.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Let&#x27;s pick up another example, this time a more practical one. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Here is a modified version of the <a href="https://www.asyncapi.com/docs/tutorials/streetlights" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Streetlights tutorial</a> document made for demo purposes:</p><div class=" my-8"><div class="language-yaml rounded relative max-w-full rounded overflow-y-hidden overflow-x-auto py-2 bg-code-editor-dark z-10"><div class=" z-10"><button class="absolute bg-code-editor-dark z-50 text-xs text-gray-500 right-2 top-1 cursor-pointer hover:text-gray-300 focus:outline-none" title="Copy to clipboard"><span class="inline-block pt-1"><svg class="inline-block w-4 h-4 -mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path d="M15.6 2l-1.2 3H5.6L4.4 2C3.629 2 3 2.629 3 3.4v15.2c0 .77.629 1.4 1.399 1.4h11.2c.77 0 1.4-.631 1.4-1.4V3.4C17 2.629 16.369 2 15.6 2zm-2 2l.9-2h-2.181L11.6 0H8.4l-.72 2H5.5l.899 2H13.6z"></path></svg></span></button></div><div><div class="pr-8 relative overflow-y-auto"><pre class="pt-px pb-0 text-sm font-medium font-ligatures-contextual ml-0 text-xs" style="display:inline-block;background:#252f3f;color:#d6deeb"><code class="pl-2 float-left left-0 sticky bg-code-editor-dark"><span class="text-gray-600 block pl-2 pr-2">1
</span><span class="text-gray-600 block pl-2 pr-2">2
</span><span class="text-gray-600 block pl-2 pr-2">3
</span><span class="text-gray-600 block pl-2 pr-2">4
</span><span class="text-gray-600 block pl-2 pr-2">5
</span><span class="text-gray-600 block pl-2 pr-2">6
</span><span class="text-gray-600 block pl-2 pr-2">7
</span><span class="text-gray-600 block pl-2 pr-2">8
</span><span class="text-gray-600 block pl-2 pr-2">9
</span><span class="text-gray-600 block pl-2 pr-2">10
</span><span class="text-gray-600 block pl-2 pr-2">11
</span><span class="text-gray-600 block pl-2 pr-2">12
</span><span class="text-gray-600 block pl-2 pr-2">13
</span><span class="text-gray-600 block pl-2 pr-2">14
</span><span class="text-gray-600 block pl-2 pr-2">15
</span><span class="text-gray-600 block pl-2 pr-2">16
</span><span class="text-gray-600 block pl-2 pr-2">17
</span><span class="text-gray-600 block pl-2 pr-2">18
</span><span class="text-gray-600 block pl-2 pr-2">19
</span><span class="text-gray-600 block pl-2 pr-2">20
</span><span class="text-gray-600 block pl-2 pr-2">21
</span><span class="text-gray-600 block pl-2 pr-2">22
</span><span class="text-gray-600 block pl-2 pr-2">23
</span><span class="text-gray-600 block pl-2 pr-2">24
</span><span class="text-gray-600 block pl-2 pr-2">25
</span><span class="text-gray-600 block pl-2 pr-2">26
</span><span class="text-gray-600 block pl-2 pr-2">27
</span><span class="text-gray-600 block pl-2 pr-2">28
</span><span class="text-gray-600 block pl-2 pr-2">29
</span></code><code class="mr-8"><span class=" pr-8"><span style="color:#7edcda">asyncapi:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;2.0.0&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">info:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">  title:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Streetlights</span><span> </span><span style="color:#c0e2a3;font-weight:500">mod</span><span> </span><span style="color:#c0e2a3;font-weight:500">API</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">  version:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;1.0.0-alpha&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">servers:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">  mosquitto:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    url:</span><span> </span><span style="color:#7edcda">mqtt://test.mosquitto.org</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    protocol:</span><span> </span><span style="color:#c0e2a3;font-weight:500">mqtt</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">channels:</span><span>    
</span></span><span class=" pr-8"><span>  </span><span style="color:#c0e2a3;font-weight:500">light/measured/changed:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    subscribe:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      summary:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Receive</span><span> </span><span style="color:#c0e2a3;font-weight:500">an</span><span> </span><span style="color:#c0e2a3;font-weight:500">update</span><span> </span><span style="color:#c0e2a3;font-weight:500">every</span><span> </span><span style="color:#c0e2a3;font-weight:500">time</span><span> </span><span style="color:#c0e2a3;font-weight:500">a</span><span> </span><span style="color:#c0e2a3;font-weight:500">lighting</span><span> </span><span style="color:#c0e2a3;font-weight:500">condition</span><span> </span><span style="color:#c0e2a3;font-weight:500">changed.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      operationId:</span><span> </span><span style="color:#c0e2a3;font-weight:500">onLightMeasureChanged</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      message:</span><span> 
</span></span><span class=" pr-8"><span>        </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&quot;#/components/messages/lightMessage&quot;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">components:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">  messages:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    lightMessage:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      payload:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">object</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        properties:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          id:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">integer</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            minimum:</span><span> </span><span style="color:#d8da68">0</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Id</span><span> </span><span style="color:#c0e2a3;font-weight:500">of</span><span> </span><span style="color:#c0e2a3;font-weight:500">the</span><span> </span><span style="color:#c0e2a3;font-weight:500">streetlight.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          lumens:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">integer</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            minimum:</span><span> </span><span style="color:#d8da68">0</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Light</span><span> </span><span style="color:#c0e2a3;font-weight:500">intensity</span><span> </span><span style="color:#c0e2a3;font-weight:500">measured</span><span> </span><span style="color:#c0e2a3;font-weight:500">in</span><span> </span><span style="color:#c0e2a3;font-weight:500">lumens.</span></span></code></pre></div></div></div></div><p class=" my-4 text-gray-700 font-normal font-sans antialiased">By the time of this post, there is only one implementation of the parser, which is written in Javascript.
<a href="https://github.com/asyncapi/parser-js" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Parser-js</a> parses AsyncAPI spec documents and provides functions to work with them and access the different objects and their values.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">In the hypothetical case a user wants to parse this document and <em>get all the messages a consumer of the application can consume</em>, this is needed: </p><div class=" my-8"><div class="language-jsx rounded relative max-w-full rounded overflow-y-hidden overflow-x-auto py-2 bg-code-editor-dark z-10"><div class="absolute top-0 bottom-0 right-0 pl-5 pr-2 bg-code-editor-dark z-10"><button class="absolute bg-code-editor-dark z-50 text-xs text-gray-500 right-2 top-1 cursor-pointer hover:text-gray-300 focus:outline-none" title="Copy to clipboard"><span class="inline-block pt-1"><svg class="inline-block w-4 h-4 -mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path d="M15.6 2l-1.2 3H5.6L4.4 2C3.629 2 3 2.629 3 3.4v15.2c0 .77.629 1.4 1.399 1.4h11.2c.77 0 1.4-.631 1.4-1.4V3.4C17 2.629 16.369 2 15.6 2zm-2 2l.9-2h-2.181L11.6 0H8.4l-.72 2H5.5l.899 2H13.6z"></path></svg></span></button></div><div><div class="pr-8 relative overflow-y-auto"><pre class="pt-px pb-0 text-sm font-medium font-ligatures-contextual ml-3 text-xs" style="display:inline-block;background:#252f3f;color:#d6deeb"><code class="mr-8"><span class=" pr-8"><span>doc.channels().filter(</span><span style="color:#d6deeb">c</span><span style="color:#74e287"> =&gt;</span><span> c.hasSubscribe()).map(</span><span style="color:#d6deeb">c</span><span style="color:#74e287"> =&gt;</span><span> c.subscribe().messages()).flat();</span></span></code></pre></div></div></div></div><p class=" my-4 text-gray-700 font-normal font-sans antialiased">We can observe that the <a href="https://github.com/asyncapi/parser-js" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Parser-js</a> API (<code class=" px-1 py-0.5 bg-primary-700 text-white rounded font-mono text-sm">v1.x</code>) is completely coupled with the structure of the AsyncAPI spec (by the date of this post, <code class=" px-1 py-0.5 bg-primary-700 text-white rounded font-mono text-sm">v2.0.0</code>) document. The API is just a layer on top of the JSON Schema parsed document with some helpers and extras, meaning you should know the document&#x27;s structure to access any information.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Let&#x27;s emulate a possible breaking change. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Imagine <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">messages</strong> are now independent of channels and <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">Operations</strong> get moved from where they used to be (under the channel) to the root of the document. For instance:</p><div class=" my-8"><div class="language-yaml rounded relative max-w-full rounded overflow-y-hidden overflow-x-auto py-2 bg-code-editor-dark z-10"><div class=" z-10"><button class="absolute bg-code-editor-dark z-50 text-xs text-gray-500 right-2 top-1 cursor-pointer hover:text-gray-300 focus:outline-none" title="Copy to clipboard"><span class="inline-block pt-1"><svg class="inline-block w-4 h-4 -mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path d="M15.6 2l-1.2 3H5.6L4.4 2C3.629 2 3 2.629 3 3.4v15.2c0 .77.629 1.4 1.399 1.4h11.2c.77 0 1.4-.631 1.4-1.4V3.4C17 2.629 16.369 2 15.6 2zm-2 2l.9-2h-2.181L11.6 0H8.4l-.72 2H5.5l.899 2H13.6z"></path></svg></span></button></div><div><div class="pr-8 relative overflow-y-auto"><pre class="pt-px pb-0 text-sm font-medium font-ligatures-contextual ml-0 text-xs" style="display:inline-block;background:#252f3f;color:#d6deeb"><code class="pl-2 float-left left-0 sticky bg-code-editor-dark"><span class="text-gray-600 block pl-2 pr-2">1
</span><span class="text-gray-600 block pl-2 pr-2">2
</span><span class="text-gray-600 block pl-2 pr-2">3
</span><span class="text-gray-600 block pl-2 pr-2">4
</span><span class="text-gray-600 block pl-2 pr-2">5
</span><span class="text-gray-600 block pl-2 pr-2">6
</span><span class="text-gray-600 block pl-2 pr-2">7
</span><span class="text-gray-600 block pl-2 pr-2">8
</span><span class="text-gray-600 block pl-2 pr-2">9
</span><span class="text-gray-600 block pl-2 pr-2">10
</span><span class="text-gray-600 block pl-2 pr-2">11
</span><span class="text-gray-600 block pl-2 pr-2">12
</span><span class="text-gray-600 block pl-2 pr-2">13
</span><span class="text-gray-600 block pl-2 pr-2">14
</span><span class="text-gray-600 block pl-2 pr-2">15
</span><span class="text-gray-600 block pl-2 pr-2">16
</span></code><code class="mr-8"><span class=" pr-8"><span style="color:#7edcda">asyncapi:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;99.99.99&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#797f8c"># ...</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">operations:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">  onLightMeasureChanged:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    operationType:</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscribe</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    summary:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Receive</span><span> </span><span style="color:#c0e2a3;font-weight:500">an</span><span> </span><span style="color:#c0e2a3;font-weight:500">update</span><span> </span><span style="color:#c0e2a3;font-weight:500">every</span><span> </span><span style="color:#c0e2a3;font-weight:500">time</span><span> </span><span style="color:#c0e2a3;font-weight:500">a</span><span> </span><span style="color:#c0e2a3;font-weight:500">lighting</span><span> </span><span style="color:#c0e2a3;font-weight:500">condition</span><span> </span><span style="color:#c0e2a3;font-weight:500">changed.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    message:</span><span> 
</span></span><span class=" pr-8"><span>      </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&quot;#/messages/lightMessage&quot;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    channel:</span><span>
</span></span><span class=" pr-8"><span>      </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&quot;#/channels/light/measured&quot;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">channels:</span><span>
</span></span><span class=" pr-8"><span>  </span><span style="color:#c0e2a3;font-weight:500">light/measured:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Channel</span><span> </span><span style="color:#c0e2a3;font-weight:500">for</span><span> </span><span style="color:#c0e2a3;font-weight:500">updates</span><span> </span><span style="color:#c0e2a3;font-weight:500">on</span><span> </span><span style="color:#c0e2a3;font-weight:500">lightning</span><span> </span><span style="color:#c0e2a3;font-weight:500">conditions.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">messages:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">  lightMessage:</span><span>
</span></span><span class=" pr-8"><span>    </span><span style="color:#797f8c"># ...</span></span></code></pre></div></div></div></div><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Now the users of the <a href="https://github.com/asyncapi/parser-js" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Parser-js</a> that wanted to <em>get all the messages a consumer of the application can consume</em> will need to change their code so their app keeps working after the <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">breaking change</strong> got introduced. For instance:</p><div class=" my-8"><div class="language-jsx rounded relative max-w-full rounded overflow-y-hidden overflow-x-auto py-2 bg-code-editor-dark z-10"><div class="absolute top-0 bottom-0 right-0 pl-5 pr-2 bg-code-editor-dark z-10"><button class="absolute bg-code-editor-dark z-50 text-xs text-gray-500 right-2 top-1 cursor-pointer hover:text-gray-300 focus:outline-none" title="Copy to clipboard"><span class="inline-block pt-1"><svg class="inline-block w-4 h-4 -mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path d="M15.6 2l-1.2 3H5.6L4.4 2C3.629 2 3 2.629 3 3.4v15.2c0 .77.629 1.4 1.399 1.4h11.2c.77 0 1.4-.631 1.4-1.4V3.4C17 2.629 16.369 2 15.6 2zm-2 2l.9-2h-2.181L11.6 0H8.4l-.72 2H5.5l.899 2H13.6z"></path></svg></span></button></div><div><div class="pr-8 relative overflow-y-auto"><pre class="pt-px pb-0 text-sm font-medium font-ligatures-contextual ml-3 text-xs" style="display:inline-block;background:#252f3f;color:#d6deeb"><code class="mr-8"><span class=" pr-8"><span>doc.operations().filter(</span><span style="color:#d6deeb">o</span><span style="color:#74e287"> =&gt;</span><span> o.isSubscribe()).map(</span><span style="color:#d6deeb">o</span><span style="color:#74e287"> =&gt;</span><span> o.message()).flat();</span></span></code></pre></div></div></div></div><h2 id="intent-driven-design-to-the-rescue" class=" my-4 font-sans antialiased font-medium text-xl">Intent-driven design to the rescue</h2><p class=" my-4 text-gray-700 font-normal font-sans antialiased">What if I tell you that you could avoid most of the breaking changes on your APIs by following an Intent-driven design approach?</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Let&#x27;s give a twist to the API by adding some user intents. In this particular case, a method that represents the intent:</p><div class=" my-8"><div class="language-jsx rounded relative max-w-full rounded overflow-y-hidden overflow-x-auto py-2 bg-code-editor-dark z-10"><div class="absolute top-0 bottom-0 right-0 pl-5 pr-2 bg-code-editor-dark z-10"><button class="absolute bg-code-editor-dark z-50 text-xs text-gray-500 right-2 top-1 cursor-pointer hover:text-gray-300 focus:outline-none" title="Copy to clipboard"><span class="inline-block pt-1"><svg class="inline-block w-4 h-4 -mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path d="M15.6 2l-1.2 3H5.6L4.4 2C3.629 2 3 2.629 3 3.4v15.2c0 .77.629 1.4 1.399 1.4h11.2c.77 0 1.4-.631 1.4-1.4V3.4C17 2.629 16.369 2 15.6 2zm-2 2l.9-2h-2.181L11.6 0H8.4l-.72 2H5.5l.899 2H13.6z"></path></svg></span></button></div><div><div class="pr-8 relative overflow-y-auto"><pre class="pt-px pb-0 text-sm font-medium font-ligatures-contextual ml-3 text-xs" style="display:inline-block;background:#252f3f;color:#d6deeb"><code class="mr-8"><span class=" pr-8"><span>clientSubscribableMessages() : Message[]</span></span></code></pre></div></div></div></div><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Some naming clarification:</p><ul class=" my-4 ml-4 list-disc text-gray-700 font-normal font-sans antialiased"><li class=" my-3 text-gray-700 font-normal font-sans antialiased"><strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">client</strong>: user wants to get messages from the point of view of a client/consumer of the application.</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased"><strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">subscribable</strong>: user wants to get the messages they can consume.</li></ul><p class=" my-4 text-gray-700 font-normal font-sans antialiased"><undefined>It looks simple, right? We have just written down our first intent! <span role="img" aria-label="party popper">🎉</span></undefined></p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">From now on, users won&#x27;t need to know in detail how the spec document is structured. The parser will reflect any change on the underlying document inside each function instead. Therefore, <code class=" px-1 py-0.5 bg-primary-700 text-white rounded font-mono text-sm">doc.clientPublishableMessages();</code> will <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">always</strong> be available as a method: it makes complete sense from a business model point of view for the AsyncAPI project. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">New versions of the library will be out, but those will mostly be minor or patch versions, adding new features, or fixing bugs. Meaning the users will follow a fearless and simple upgrade process.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">This approach also sets the foundations for creating backward compatibility APIs, among other features. For example, you can support several versions by executing one or another logic inside your intent functions.</p><h1 id="designing-a-unified-intent-driven-api-for-all-asyncapis-parsers" class=" my-4 font-sans antialiased font-medium text-2xl">Designing a unified Intent-driven API for all AsyncAPI&#x27;s parsers</h1><p class=" my-4 text-gray-700 font-normal font-sans antialiased">The idea behind the Intent-driven design approach is to first focus on getting what the user intents are by getting feedback from final users as much as possible. Sometimes users are nothing else than other libraries, so go and check how they use your API.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Our goal was to design an API that could be implemented in any language, meaning others could create their parser but always following this API. For example, the <a href="https://github.com/asyncapi/parser-go" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Parser-go</a>.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Here is a summary of the steps we followed:</p><h2 id="1-identify-how-users-use-the-library" class=" my-4 font-sans antialiased font-medium text-xl">1. Identify how users use the library</h2><p class=" my-4 text-gray-700 font-normal font-sans antialiased">We first focused on identifying the intents behind our <a href="https://github.com/asyncapi/generator#list-of-official-generator-templates" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">generator templates</a>. By doing some code analysis, we came out with <a href="https://github.com/asyncapi/shape-up-process/issues/84" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">a list</a> of <em>potential</em> intents that became the foundation of our API.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Furthermore, we tried to think about potential users of the parsers. For example, <a href="https://github.com/slackapi/slack-api-specs/blob/master/events-api/slack_events_api_async_v1.json" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Slack</a> developers could use the parser for adding documentation to their UI, validating messages, among others. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">That gave us another list of <em>potential</em> intents, most of them already covered by the list we got from the templates.</p><h2 id="2-transform-potential-intents-to-actual-intents" class=" my-4 font-sans antialiased font-medium text-xl">2. Transform potential intents to actual intents</h2><p class=" my-4 text-gray-700 font-normal font-sans antialiased">It is an important step, if not the most. It is one of the hardest as well.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">For this step, we tried to abstract our minds and forget most of what we knew about the structure of an AsyncAPI document. We instead focused on the models and their <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">logical</strong> (from a human point of view) relationship:</p><ul class=" my-4 ml-4 list-disc text-gray-700 font-normal font-sans antialiased"><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Messages flow through Channels</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Messages can exist without channels.</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Messages can be (or not) related to Operations</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Etc</li></ul><p class=" my-4 text-gray-700 font-normal font-sans antialiased">We then wrote down a draft of our first list of intents.</p><h2 id="3-build-a-mock-api" class=" my-4 font-sans antialiased font-medium text-xl">3. Build a mock API</h2><p class=" my-4 text-gray-700 font-normal font-sans antialiased">After getting a list of intents to implement, we built a simple mock API in Javascript with that list. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Methods were returning hardcoded data but were enough for getting an idea of how difficult it would be to create such API from the point of view of a maintainer.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">At this point, we faced up some API design decisions, such as: </p><ul class=" my-4 ml-4 list-disc text-gray-700 font-normal font-sans antialiased"><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Shall we add getters for all properties?</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Are we going to use singular or plural methods?</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Are methods going to have any argument at all?</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Etc</li></ul><h2 id="4-validate-the-intents-and-their-ux" class=" my-4 font-sans antialiased font-medium text-xl">4. Validate the intents and their UX</h2><p class=" my-4 text-gray-700 font-normal font-sans antialiased">With the new API mock built-in Javascript, we chose some of the most used <a href="https://github.com/asyncapi/generator#list-of-official-generator-templates" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">generator templates</a> and replaced all the calls made to the old <a href="https://github.com/asyncapi/parser-js" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Parser-js</a> API with the new ones.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">This step made us realize that some of the intents we mocked up worked like a charm: We were pretty happy seeing how the code got simplified.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">However, we found some inconsistencies, such as missing intents and helpers required for simplicity purposes.</p><h2 id="5-wrap-up-documentation" class=" my-4 font-sans antialiased font-medium text-xl">5. Wrap up documentation</h2><p class=" my-4 text-gray-700 font-normal font-sans antialiased">This step included writing down all our documentation around the new API in a new repository, where developers of AsyncAPI parsers will refer and follow the specification of the API. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Even though each parser will now maintain an individual release cycle, changes to this API will force the individual parsers to update.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">It follows <a href="https://semver.org/" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Semver</a> (as we do for all projects), so each parser will therefore maintain its compatibility matrix, making visible what version of the API specification they support. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">You can find the new repository holding the new Parsers API specification <a href="https://github.com/asyncapi/parser-api" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">here</a>, which at the moment of writing this post, it&#x27;s still <code class=" px-1 py-0.5 bg-primary-700 text-white rounded font-mono text-sm">v1.0.0-alpha</code>, as we are waiting for more feedback from the community.</p><h1 id="whats-next" class=" my-4 font-sans antialiased font-medium text-2xl">What&#x27;s next?</h1><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Even though we do now have an alpha version of the new parser API, work is pending around implementation.
We are actively asking for feedback. Please submit yours via Github Discussions <a href="https://github.com/asyncapi/parser-api/discussions" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">here</a>.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Our next steps are going to be:</p><ol class=" my-4 ml-4 list-decimal text-gray-700 font-normal font-sans antialiased"><li class=" my-3 text-gray-700 font-normal font-sans antialiased">To release a new version (alpha) of the <a href="https://github.com/asyncapi/parser-js" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Parser-js</a> that implements the new API specification.</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">To use that new <a href="https://github.com/asyncapi/parser-js" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Parser-js</a> version in some of the <a href="https://github.com/asyncapi/generator#list-of-official-generator-templates" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">generator templates</a>. That will help us to:<ol class=" my-4 ml-4 list-decimal text-gray-700 font-normal font-sans antialiased"><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Validate that the <a href="https://github.com/asyncapi/parser-js" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Parser-js</a> behaves as expected.</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Set an example of what kind of changes users will need to do on their codes to adopt the new API (We expect code will require no significant changes).</li></ol></li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">To ask for feedback from the community, especially to maintainers and users of the <a href="https://github.com/asyncapi/parser-js" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Parser-js</a>. Reviewing the new API now becomes easier as there will be the specification, a new version of the <a href="https://github.com/asyncapi/parser-js" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Parser-js</a> and also examples to follow.</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Review feedback, apply suggestions, and do release a release-candidate or final version.</li></ol><h1 id="related-issues-and-links" class=" my-4 font-sans antialiased font-medium text-2xl">Related issues and links</h1><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Please find the outstanding issues related to the design process we went through here:</p><ul class=" my-4 ml-4 list-disc text-gray-700 font-normal font-sans antialiased"><li class=" my-3 text-gray-700 font-normal font-sans antialiased"><a href="https://github.com/asyncapi/shape-up-process/issues/90" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Main issue for the API design process</a></li><li class=" my-3 text-gray-700 font-normal font-sans antialiased"><a href="https://github.com/asyncapi/shape-up-process/issues/84" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Collecting potential intents</a></li><li class=" my-3 text-gray-700 font-normal font-sans antialiased"><a href="https://github.com/asyncapi/shape-up-process/issues/93" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Emulating few breaking changes</a></li><li class=" my-3 text-gray-700 font-normal font-sans antialiased"><a href="https://github.com/asyncapi/shape-up-process/issues/95" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Figuring out how to do API versioning</a></li></ul><p class=" my-4 text-gray-700 font-normal font-sans antialiased">The new Parser(s) API specification can be found <a href="https://github.com/asyncapi/parser-api" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">here</a>. Discussions take place <a href="https://github.com/asyncapi/parser-api/discussions" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">here</a>.</p><h1 id="conclusion" class=" my-4 font-sans antialiased font-medium text-2xl">Conclusion</h1><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Intent-driven design helps to better understand your users by focusing on their intentions rather than technical details.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">It is not an easy path in the short term; however, the benefits can be visible early, making the process a grateful experience.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">I firmly believe making a great user experience should always be a top priority, especially for publicly available projects. If we don&#x27;t care about users then, who is going to use our software?</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">I want to take this opportunity to express my gratitude to <a href="https://github.com/jonaslagoni" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Jonas Lagoni</a>, who has been my partner along this journey.
Hours of figuring out small details, long backs and forths, and discussions around user experience were easy-going, thanks to this one.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased"><undefined>I hope you enjoyed reading this post as much as I did writing it <span role="img" aria-label="smiling face with open mouth">😃</span> </undefined></p><blockquote class=" italic font-sans antialiased text-gray-400 border-l-4 border-gray-400 pl-4 pt-1 pb-1 pr-1 my-4 bg-white"><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Cover photo by <a href="https://kaboompics.com/photo/20669/sharpened-colorful-pencils" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Karolina Grabowska</a> on <a href="https://kaboompics.com" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Kaboompics</a></p></blockquote></article></main></div><div class="bg-white mt-12"><div class="bg-primary-900 py-12"><div class="max-w-screen-xl block   px-4 sm:px-6 lg:px-8 mx-auto block   px-4 sm:px-6 lg:px-8"><div class="p-8"><h3 class="text-primary-200 text-lg font-bold">Subscribe to our newsletter to receive news about AsyncAPI.</h3><p class="text-gray-400 mt-2 text-sm">We respect your inbox. No spam, promise ✌️</p><form class="mt-4 md:flex" data-netlify="true"><input type="hidden" name="form-name" value="form 2"/><input type="hidden" name="type"/><input type="text" name="name" placeholder="Your name" class="form-input block w-full sm:text-sm sm:leading-5 md:mr-2 md:mt-0 md:flex-1" required=""/><input type="email" name="email" placeholder="Your email" class="form-input block w-full mt-2 sm:text-sm sm:leading-5 md:mr-2 md:mt-0 md:flex-1" required=""/><button type="submit" class="bg-primary-500 hover:bg-primary-400 text-white hover:text-white shadow-md hover:shadow-lg transition-all duration-500 ease-in-out rounded px-4 py-3 text-white w-full mt-2 md:mr-2 md:mt-0 md:flex-1"><span class="inline-block">Subscribe</span></button></form></div></div></div><div class="max-w-screen-xl mx-auto py-12 px-4 overflow-hidden sm:px-6 lg:px-8"><nav class="-mx-5 -my-2 flex flex-wrap justify-center"><div class="px-5 py-2"><a href="/about" class="text-base leading-6 text-gray-500 hover:text-gray-900">About</a></div><div class="px-5 py-2"><a href="/blog" class="text-base leading-6 text-gray-500 hover:text-gray-900">Blog</a></div><div class="px-5 py-2"><a href="https://asyncapi.threadless.com" target="_blank" class="text-base leading-6 text-gray-500 hover:text-gray-900">Shop</a></div><div class="px-5 py-2"><a href="/jobs" class="text-base leading-6 text-gray-500 hover:text-gray-900">Jobs</a></div><div class="px-5 py-2"><a href="mailto:press@asyncapi.io" class="text-base leading-6 text-gray-500 hover:text-gray-900">Press</a></div></nav><div class="mt-8 flex justify-center"><a href="https://twitter.com/AsyncAPISpec" target="_blank" class="text-gray-400 hover:text-blue-500"><span class="sr-only">Twitter</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a><a href="https://github.com/asyncapi" target="_blank" class="ml-6 text-gray-400 hover:text-gray-500"><span class="sr-only">GitHub</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg></a><a href="https://linkedin.com/company/asyncapi" target="_blank" class="ml-6 text-gray-400 hover:text-blue-500"><span class="sr-only">LinkedIn</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 22" enable-background="new 0 0 21 22" fill="currentColor" class="h-6 w-6"><path d="M5,3c0,1.1-0.7,2-2,2C1.8,5,1,4.1,1,3.1C1,2,1.8,1,3,1S5,1.9,5,3z M1,19h4V6H1V19z M14.6,6.2c-2.1,0-3.3,1.2-3.8,2h-0.1 l-0.2-1.7H6.9C6.9,7.6,7,8.9,7,10.4V19h4v-7.1c0-0.4,0-0.7,0.1-1c0.3-0.7,0.8-1.6,1.9-1.6c1.4,0,2,1.2,2,2.8V19h4v-7.4 C19,7.9,17.1,6.2,14.6,6.2z"></path></svg></a><a href="https://youtube.com/asyncapi" target="_blank" class="ml-6 text-gray-400 hover:text-red-600"><span class="sr-only">YouTube</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-6 w-6"><path d="M10,2.3C0.172,2.3,0,3.174,0,10s0.172,7.7,10,7.7s10-0.874,10-7.7S19.828,2.3,10,2.3z M13.205,10.334l-4.49,2.096 C8.322,12.612,8,12.408,8,11.974V8.026C8,7.593,8.322,7.388,8.715,7.57l4.49,2.096C13.598,9.85,13.598,10.15,13.205,10.334z"></path></svg></a></div><div class="mt-8"><p class="text-center text-base leading-6 text-gray-400">Made with <span class="font-mono text-pink-500">:love:</span> by the AsyncAPI Initiative.</p><p class="text-center text-base leading-6 text-gray-400 mt-4"><a href="https://netlify.com" target="_blank"><img src="https://www.netlify.com/img/global/badges/netlify-color-bg.svg" class="inline"/></a></p><p class="text-center text-base leading-6 text-gray-400 mt-4">Copyright © AsyncAPI Project a Series of LF Projects, LLC.</p><p class="text-center text-base leading-6 text-gray-400 mt-1">For web site terms of use, trademark policy and general project policies please see <a href="https://lfprojects.org" class="text-gray-700 underline" target="_blank">https://lfprojects.org</a></p></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/blog/intent-driven-api","query":{},"buildId":"Tex625tf_lnUaoCgL3YGh","nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/_next/static/runtime/polyfills-9a3984dd490beb07be5c.js"></script><script async="" data-next-page="/_app" src="/_next/static/Tex625tf_lnUaoCgL3YGh/pages/_app.js"></script><script async="" data-next-page="/blog/intent-driven-api" src="/_next/static/Tex625tf_lnUaoCgL3YGh/pages/blog/intent-driven-api.js"></script><script src="/_next/static/runtime/webpack-c212667a5f965e81e004.js" async=""></script><script src="/_next/static/chunks/framework.4dd1003cc9c949c7fcd3.js" async=""></script><script src="/_next/static/chunks/75fc9c18.3cfc8ccb85c1d7a11215.js" async=""></script><script src="/_next/static/chunks/ce56b752.ae226c74e10a6a4b10b8.js" async=""></script><script src="/_next/static/chunks/0557f841fc85a2834d7f888fce8afe60a4489f1d.c7c389ed4e650b7acdd9.js" async=""></script><script src="/_next/static/chunks/5d64a570782c3ceba4f83b61f6533a7ee91bc9f8.3990439058315e1f2df7.js" async=""></script><script src="/_next/static/chunks/be6d319af1fb18412639ef154d1e4d762d2a273e.4cb9699241b781436ae4.js" async=""></script><script src="/_next/static/chunks/4f5700c3a68d16ffc40162e6214bdf91e1aeaf40.af98a8a489a62e744487.js" async=""></script><script src="/_next/static/runtime/main-9425739e3a9a3f3edaa6.js" async=""></script><script src="/_next/static/Tex625tf_lnUaoCgL3YGh/_buildManifest.js" async=""></script><script src="/_next/static/Tex625tf_lnUaoCgL3YGh/_ssgManifest.js" async=""></script></body></html>