<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="description" content="WebSocket is a protocol, an industry standard for building client applications that users love to use. What does AsyncAPI have to do with it?"/><link rel="alternate" type="application/rss+xml" title="RSS Feed for AsyncAPI Initiative Blog" href="/rss.xml"/><link rel="icon" href="/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="194x194" href="/favicon-194x194.png"/><meta itemProp="name" content="WebSocket, Shrek, and AsyncAPI - An Opinionated Intro | AsyncAPI Initiative for event-driven APIs"/><meta itemProp="description" content="WebSocket is a protocol, an industry standard for building client applications that users love to use. What does AsyncAPI have to do with it?"/><meta itemProp="image" content="http://localhost:8080/img/posts/websocket-part1/cover.webp"/><meta name="twitter:card" value="summary_large_image"/><meta name="twitter:title" content="WebSocket, Shrek, and AsyncAPI - An Opinionated Intro | AsyncAPI Initiative for event-driven APIs"/><meta name="twitter:description" content="WebSocket is a protocol, an industry standard for building client applications that users love to use. What does AsyncAPI have to do with it?"/><meta name="twitter:image" content="http://localhost:8080/img/posts/websocket-part1/cover.webp"/><meta property="og:title" content="WebSocket, Shrek, and AsyncAPI - An Opinionated Intro | AsyncAPI Initiative for event-driven APIs"/><meta property="og:type" content="article"/><meta property="og:url" content="http://localhost:8080/blog/websocket-part1"/><meta property="og:image" content="http://localhost:8080/img/posts/websocket-part1/cover.webp"/><meta property="og:description" content="WebSocket is a protocol, an industry standard for building client applications that users love to use. What does AsyncAPI have to do with it?"/><title>WebSocket, Shrek, and AsyncAPI - An Opinionated Intro | AsyncAPI Initiative for event-driven APIs</title><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cb852c7b57ed596" async=""></script><style>
                /* AddThis hack */

                #at4-share {
                    left: 50%;
                    margin-left: -500px !important;

                    &amp;amp;.addthis-animated {
                      animation-duration: 0s !important;
                    }
                }

                #at4-scc {
                    display: none !important;
                }
              </style><meta name="next-head-count" content="25"/><link rel="preload" href="/_next/static/css/cedf33f8fb65848f9ac5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cedf33f8fb65848f9ac5.css"/><link rel="preload" href="/_next/static/css/99208ff840280a9dc815.css" as="style"/><link rel="stylesheet" href="/_next/static/css/99208ff840280a9dc815.css"/><link rel="preload" href="/_next/static/Tex625tf_lnUaoCgL3YGh/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/Tex625tf_lnUaoCgL3YGh/pages/blog/websocket-part1.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-c212667a5f965e81e004.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.4dd1003cc9c949c7fcd3.js" as="script"/><link rel="preload" href="/_next/static/chunks/75fc9c18.3cfc8ccb85c1d7a11215.js" as="script"/><link rel="preload" href="/_next/static/chunks/ce56b752.ae226c74e10a6a4b10b8.js" as="script"/><link rel="preload" href="/_next/static/chunks/0557f841fc85a2834d7f888fce8afe60a4489f1d.c7c389ed4e650b7acdd9.js" as="script"/><link rel="preload" href="/_next/static/chunks/5d64a570782c3ceba4f83b61f6533a7ee91bc9f8.3990439058315e1f2df7.js" as="script"/><link rel="preload" href="/_next/static/chunks/be6d319af1fb18412639ef154d1e4d762d2a273e.4cb9699241b781436ae4.js" as="script"/><link rel="preload" href="/_next/static/chunks/4f5700c3a68d16ffc40162e6214bdf91e1aeaf40.af98a8a489a62e744487.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-9425739e3a9a3f3edaa6.js" as="script"/></head><body><div id="__next"><div class="max-w-4xl block   px-4 sm:px-6 lg:px-8 mx-auto block   px-4 sm:px-6 lg:px-8"><div class="relative bg-white  z-50"><div class="flex w-full justify-between items-center py-6 lg:justify-start lg:space-x-10"><div class="lg:w-auto lg:flex-1"><a href="/" class="flex"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 535.016 126.327" xml:space="preserve" class="h-8 w-auto sm:h-8"><g fill="#1D1D1B"><path d="M154.912 21.665h10.54l24.425 71.451h-8.713l-5.678-17.129h-30.402l-5.677 17.129h-8.816l24.321-71.451zm18.343 46.821l-12.87-38.917-13.173 38.917h26.043zM202.901 92.709c-3.212-1.555-5.796-3.699-7.752-6.436-1.964-2.736-3.042-5.861-3.245-9.375l7.5-1.723c.134 2.568.844 4.832 2.128 6.791 1.281 1.961 3.005 3.445 5.168 4.459 2.162 1.012 4.561 1.52 7.196 1.52 2.295 0 4.357-.336 6.183-1.014 1.822-.674 3.292-1.672 4.408-2.99 1.116-1.318 1.671-2.752 1.671-4.307 0-1.756-.606-3.191-1.822-4.309-1.219-1.113-2.706-1.99-4.46-2.633-1.757-.643-4.054-1.334-6.893-2.08-3.92-1.012-7.11-2.025-9.578-3.037-2.464-1.015-4.544-2.517-6.232-4.511-1.691-1.993-2.533-4.612-2.533-7.854 0-2.838.76-5.423 2.281-7.753 1.519-2.33 3.579-4.156 6.18-5.473 2.602-1.317 5.525-1.976 8.769-1.976 3.176 0 6.116.659 8.818 1.976 2.699 1.317 4.898 3.127 6.585 5.422 1.688 2.298 2.672 4.864 2.94 7.704l-7.5 1.924c-.136-3.105-1.232-5.555-3.294-7.348-2.062-1.787-4.646-2.684-7.752-2.684-1.757 0-3.361.337-4.816 1.012-1.452.675-2.599 1.621-3.444 2.838a6.952 6.952 0 00-1.267 4.054c0 1.758.609 3.192 1.825 4.306 1.216 1.114 2.448 1.926 3.701 2.432 1.249.508 3.831 1.202 7.75 2.08 3.717 1.013 6.842 2.093 9.375 3.241 2.534 1.151 4.646 2.704 6.333 4.663 1.688 1.961 2.535 4.393 2.535 7.297 0 3.041-.88 5.795-2.635 8.26-1.758 2.467-4.14 4.393-7.145 5.777-3.009 1.385-6.402 2.078-10.188 2.078-3.985.001-7.582-.776-10.79-2.331zM246.73 116.322a25.078 25.078 0 01-8.359-5.777 26.296 26.296 0 01-5.524-8.613l6.486-4.357c1.147 4.119 3.277 7.447 6.384 9.98s6.722 3.803 10.845 3.803c3.176 0 5.963-.795 8.359-2.383 2.399-1.588 4.292-3.75 5.678-6.486 1.385-2.734 2.078-5.828 2.078-9.271l-.102-6.893c-.947 1.689-2.197 3.191-3.749 4.51a18.41 18.41 0 01-5.17 3.09c-1.893.744-3.816 1.117-5.776 1.117-3.513 0-6.638-.863-9.375-2.584-2.737-1.723-4.849-4.088-6.333-7.096-1.488-3.006-2.229-6.469-2.229-10.389V41.934h7.702v33.039c0 2.57.472 4.814 1.419 6.74.943 1.926 2.295 3.463 4.052 4.611 1.754 1.15 3.784 1.723 6.081 1.723 2.497 0 4.762-.609 6.791-1.824 2.025-1.217 3.632-2.887 4.812-5.016 1.184-2.129 1.775-4.545 1.775-7.246V41.934h7.701l.102 51.283c0 4.797-1.012 9.102-3.041 12.92-2.025 3.816-4.831 6.807-8.411 8.969-3.583 2.162-7.602 3.244-12.059 3.244-3.584 0-6.961-.676-10.137-2.028zM290.513 41.934h6.994l.708 6.791c1.419-2.635 3.479-4.746 6.185-6.335 2.7-1.584 5.538-2.381 8.511-2.381 3.514 0 6.639.88 9.375 2.635 2.737 1.759 4.865 4.14 6.385 7.145 1.521 3.009 2.281 6.437 2.281 10.288v33.04h-7.804v-33.04c0-2.499-.457-4.728-1.37-6.689-.911-1.958-2.263-3.497-4.054-4.611-1.79-1.114-3.833-1.673-6.131-1.673-2.432 0-4.66.61-6.688 1.826-2.025 1.216-3.648 2.887-4.864 5.016-1.216 2.128-1.825 4.544-1.825 7.246v31.925h-7.702V41.934zM350 91.492c-3.646-2.365-6.483-5.623-8.511-9.779s-3.009-8.869-2.94-14.137c0-5.337.93-10.084 2.788-14.241 1.858-4.155 4.475-7.413 7.854-9.779 3.377-2.365 7.262-3.548 11.655-3.548 3.378 0 6.486.746 9.323 2.23a21.238 21.238 0 017.146 6.03c1.923 2.533 3.255 5.489 4.003 8.867l-7.4 2.027c-.946-3.714-2.585-6.689-4.915-8.917-2.33-2.23-5.084-3.345-8.26-3.345-2.701 0-5.169.878-7.397 2.635s-3.969 4.207-5.219 7.346c-1.251 3.143-1.877 6.708-1.877 10.694 0 3.986.693 7.535 2.08 10.639 1.383 3.109 3.31 5.559 5.776 7.35 2.466 1.791 5.254 2.686 8.36 2.686 2.7 0 5.15-.641 7.346-1.926 2.196-1.283 3.989-3.074 5.372-5.371 1.387-2.297 2.283-4.898 2.686-7.805l7.4 1.623c-.542 3.918-1.876 7.414-4.003 10.488-2.131 3.074-4.816 5.475-8.058 7.197-3.243 1.721-6.827 2.584-10.743 2.584-4.66.001-8.815-1.183-12.466-3.548zM412.529 21.36h15.001l24.426 71.755h-12.67l-4.966-15.912h-28.375l-5.27 15.912h-12.468l24.322-71.755zm19.055 46.013l-11.453-35.27-11.652 35.27h23.105zM458.743 21.36h28.176c4.797 0 9.087.949 12.87 2.84 3.782 1.891 6.773 4.526 8.969 7.903 2.196 3.379 3.296 7.232 3.296 11.555 0 4.324-1.082 8.157-3.245 11.503-2.163 3.343-5.152 5.996-8.969 7.955-3.816 1.96-8.092 2.939-12.822 2.939h-16.416v27.06h-11.858V21.36zm26.859 34.56c2.635 0 5.049-.523 7.246-1.572 2.194-1.045 3.918-2.497 5.167-4.357 1.252-1.856 1.876-3.969 1.876-6.333s-.607-4.475-1.823-6.335c-1.218-1.856-2.905-3.31-5.068-4.357-2.162-1.047-4.628-1.572-7.397-1.572h-15V55.92h14.999zM519.855 21.36h12.16v71.755h-12.16V21.36z"></path></g><path fill="#4775B9" d="M46.5 121.416c-23.583 0-42.768-14.301-42.768-31.879h8.469c0 12.908 15.387 23.408 34.299 23.408s34.299-10.5 34.299-23.408h8.469c.001 17.578-19.183 31.879-42.768 31.879zM89.269 33.878H80.8c0-12.906-15.387-23.407-34.299-23.407s-34.299 10.5-34.299 23.407h-8.47C3.732 16.3 22.918 2 46.5 2c23.585 0 42.769 14.3 42.769 31.878z"></path><path fill="#63BA90" d="M6.715 57.486H61.114999999999995V65.955H6.715z" transform="rotate(35.914 33.912 61.719)"></path><path fill="#63BA90" d="M32.225 57.438H86.625V65.906H32.225z" transform="rotate(35.914 59.422 61.671)"></path></svg></a></div><div class="-mr-2 -my-2 lg:hidden"><button type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out"><svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div><nav class="hidden lg:flex space-x-10"><div class="relative"><button type="button" class=" group text-gray-500 inline-flex items-center space-x-2 text-base leading-6 font-medium hover:text-gray-900 focus:outline-none focus:text-gray-900 transition ease-in-out duration-150"><span>Learning</span><svg class="text-gray-400 h-5 w-5 group-hover:text-gray-500 group-focus:text-gray-500 transition ease-in-out duration-150" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="relative"><button type="button" class=" group text-gray-500 inline-flex items-center space-x-2 text-base leading-6 font-medium hover:text-gray-900 focus:outline-none focus:text-gray-900 transition ease-in-out duration-150"><span>Tools</span><svg class="text-gray-400 h-5 w-5 group-hover:text-gray-500 group-focus:text-gray-500 transition ease-in-out duration-150" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="relative"><button type="button" class=" group text-gray-500 inline-flex items-center space-x-2 text-base leading-6 font-medium hover:text-gray-900 focus:outline-none focus:text-gray-900 transition ease-in-out duration-150"><span>Community</span><svg class="text-gray-400 h-5 w-5 group-hover:text-gray-500 group-focus:text-gray-500 transition ease-in-out duration-150" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><a href="/blog" target="_self" class=" text-base leading-6 font-medium text-gray-500 hover:text-gray-900 focus:outline-none focus:text-gray-900 transition ease-in-out duration-150">Blog</a><a href="/roadmap" target="_self" class="text-green-400 font-bold text-base leading-6 font-medium text-gray-500 hover:text-gray-900 focus:outline-none focus:text-gray-900 transition ease-in-out duration-150">Roadmap</a><a href="/jobs" target="_self" class="text-primary-500 font-bold text-base leading-6 font-medium text-gray-500 hover:text-gray-900 focus:outline-none focus:text-gray-900 transition ease-in-out duration-150">Jobs</a></nav><div class="hidden lg:flex lg:flex-1"></div></div></div></div><div class="max-w-4xl lg:flex lg:flex-row-reverse  px-4 sm:px-6 lg:px-8 mx-auto lg:flex lg:flex-row-reverse  px-4 sm:px-6 lg:px-8"><div class="bg-blue-100 mt-4 p-4 sticky top-0 overflow-y-auto max-h-screen lg:bg-transparent lg:mt-0 lg:pt-0 lg:pb-8 lg:top-4 lg:max-h-(screen-16) lg:border-l lg:border-gray-200 lg:min-w-40 lg:max-w-64 lg:-mr-20 xl:min-w-72 xl:-mr-36  lg:block z-20"><div class="flex cursor-pointer  lg:cursor-auto"><h5 class="false flex-1 text-primary-500 font-medium uppercase tracking-wide text-sm font-sans antialiased lg:mb-4 lg:text-xs lg:text-gray-500 lg:font-thin">On this page</h5><div class="text-underline text-center p4 lg:hidden"><svg class="rotate-90 transform transition duration-200 ease-in-out h-6 -mt-0.5 text-primary-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></div></div><div class="hidden lg:block"><div class=""><a class="pl-0 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#what-is-websocket">What is WebSocket</a><a class="pl-0 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#websocket-use-case">Websocket use case</a><a class="pl-0 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#why-asyncapi">Why AsyncAPI</a><a class="pl-0 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#websocket-described-with-asyncapi">WebSocket described with AsyncAPI</a><a class="pl-2 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#playing-with-websocket-api">Playing with WebSocket API</a><a class="pl-2 block mb-1 transition duration-100 ease-in-out text-gray-500 font-normal text-sm font-sans antialiased hover:text-gray-700 hover:font-medium" href="#describing-api-using-asyncapi">Describing API using AsyncAPI</a></div></div></div><main class="mt-8 px-4 sm:px-6 lg:pr-8 lg:pl-0 lg:flex-1 lg:max-w-172 xl:max-w-172"><header class="pr-4 sm:pr-6 md:pr-8"><h1 class="text-4xl font-normal text-gray-800 font-sans antialiased">WebSocket, Shrek, and AsyncAPI - An Opinionated Intro</h1><div class="mt-6 flex items-center"><div class="relative flex-shrink-0"><a alt="Lukasz Gornicki" href="https://twitter.com/derberq"><img title="Lukasz Gornicki" class="relative mr-0 z-0 h-10 w-10 border-2 border-white rounded-full object-cover hover:z-50" src="/img/avatars/lpgornicki.webp"/></a></div><div class="ml-3"><p class="text-sm leading-5 font-medium text-gray-900"><span class="hover:underline"><a alt="Lukasz Gornicki" href="https://twitter.com/derberq">Lukasz Gornicki</a></span></p><div class="flex text-sm leading-5 text-gray-500"><time dateTime="2021-04-16T05:00:00.000Z">April 16, 2021</time><span class="mx-1">¬∑</span><span>14<!-- --> min read</span></div></div></div></header><article class="mb-32"><img src="/img/posts/websocket-part1/cover.webp" class="mt-6 mb-6 w-full"/><p class=" my-4 text-gray-700 font-normal font-sans antialiased">This is a pretty subjective post. I&#x27;m sharing my perspective, taking into account years of experience building backend and frontend with user experience in mind. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">If you do not want to read this article, then watch the recording of the live stream about the same:</p><div style="position:relative;padding-bottom:56.25%;width:100%;height:0"><iframe src="https://www.youtube.com/embed/8tFBcf31e_c" frameBorder="0" allow="autoplay; encrypted-media" allowfullscreen="" style="position:absolute;top:0;left:0;width:100%;height:100%"></iframe></div><blockquote class=" italic font-sans antialiased text-gray-400 border-l-4 border-gray-400 pl-4 pt-1 pb-1 pr-1 my-4 bg-white"><p class=" my-4 text-gray-700 font-normal font-sans antialiased"> Everything we hear is an opinion, not a fact. Everything we see is a perspective, not the truth.
‚Äï <a href="https://www.politifact.com/factchecks/2019/sep/26/viral-image/no-marcus-aurelius-didnt-say-about-opinions-and-fa/" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Marcus Aurelius</a></p></blockquote><p class=" my-4 text-gray-700 font-normal font-sans antialiased">This blog post is the first of a series of blog posts about WebSocket I&#x27;m working on.</p><h2 id="what-is-websocket" class=" my-4 font-sans antialiased font-medium text-xl">What is WebSocket</h2><p class=" my-4 text-gray-700 font-normal font-sans antialiased">It is a pretty old protocol used for duplex communication over TCP connection. It was standardized in 2011. Yes, ten years ago means it is old, super old. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">So why do I even mention it in 2021? </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">It is very widely adopted and will not go away anytime soon because tooling support is excellent and serves its purpose well. Just remind yourself when HTTP/2 showed up and how many years it took everyone to migrate. It would not happen without the strong support and push from all the big players. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Sure, there is <a href="https://developers.google.com/web/fundamentals/performance/http2/#request_and_response_multiplexing" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">HTTP/2 multiplexing</a> and protocols like <a href="https://mercure.rocks/docs/mercure" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Mercure</a> or <a href="https://spec.graphql.org/June2018/#sec-Subscription" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">GraphQL Subscription</a>. There is also <a href="https://tools.ietf.org/html/rfc8441" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">RFC8441</a> for WebSocket and HTTP/2 and some tools already adopted it, like <a href="https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/http/upgrades" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Envoy</a> or <a href="https://github.com/eclipse/jetty.project/issues/3537" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Jetty</a>. Nevertheless, WebSocket is here to stay.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Anyway, the future of WebSocket has nothing to do with this post. This post is for the AsyncAPI community looking into the AsyncAPI spec because of WebSockets now, no matter the protocol&#x27;s future.</p><h2 id="websocket-use-case" class=" my-4 font-sans antialiased font-medium text-xl">Websocket use case</h2><ul class=" my-4 ml-4 list-disc text-gray-700 font-normal font-sans antialiased"><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Do you like to see in Slack that someone is typing a response? </li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Do you like it when a user interface updates without page refresh?</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Do you like it when your client app knows there are updates available for display?</li></ul><p class=" my-4 text-gray-700 font-normal font-sans antialiased">That is what WebSocket is for. You establish a long-living connection between client and server. Through such a connection, the client can send a stream of messages to the server, and this is possible the other way around at the same time.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">One could say: <em>I don&#x27;t need WebSocket to achieve that. I could just set up a data polling with REST API. Just ask the API every few seconds if there are updates.</em></p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Sadly this is not a joke. Engineers do it. Some engineers just take shortcuts, mostly because deadlines hunt them down.</p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">HTTP polling was presented very well in Shrek&#x27;s famous <em>Are we there yet?</em> scene.</p><div style="position:relative;padding-bottom:56.25%;width:100%;height:0"><iframe src="https://www.youtube.com/embed/basofea2UEs" frameBorder="0" allow="autoplay; encrypted-media" allowfullscreen="" style="position:absolute;top:0;left:0;width:100%;height:100%"></iframe></div><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Don&#x27;t go that path. Do not perform unnecessary connections to your servers and create more and more traffic with more and more resource consumption. Wasting resources is bad and makes Shrek angry. WebSocket changes a lot there:</p><figure><img class="w-full inline-block" src="/img/posts/websocket-part1/websocket-shrek.webp"/><p class="text-center text-xs text-gray-500 mt-2">Figure 1: HTTP Pull vs WebSocket vs Shrek.</p></figure><h2 id="why-asyncapi" class=" my-4 font-sans antialiased font-medium text-xl">Why AsyncAPI</h2><p class=" my-4 text-gray-700 font-normal font-sans antialiased">When building a WebSocket API on a server, you might have some additional needs:</p><ul class=" my-4 ml-4 list-disc text-gray-700 font-normal font-sans antialiased"><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Want to document the API for the team that writes a client app, Web UI, Desktop app, or Mobile app. </li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Want to have a way to specify the format of the messages that the server supports to validate them in the runtime.</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Want to generate a server or/and a client? If not for final production use, then for sure for prototyping and testing.</li></ul><p class=" my-4 text-gray-700 font-normal font-sans antialiased"><undefined>These are just a few common needs. For WebSocket, you only establish a connection over HTTP protocol, and the rest goes over WS, so OpenAPI specification won&#x27;t help you much here. WebSocket is one of the patterns in event-based systems. In the end, it is all about a stream of messages and asynchronous processing. Yes, it would be best to use AsyncAPI <span role="img" aria-label="smiling face with open mouth">üòÉ</span></undefined></p><h2 id="websocket-described-with-asyncapi" class=" my-4 font-sans antialiased font-medium text-xl">WebSocket described with AsyncAPI</h2><p class=" my-4 text-gray-700 font-normal font-sans antialiased">When I google for some public WebSocket API to play with, I find mostly currency trading products:</p><ul class=" my-4 ml-4 list-disc text-gray-700 font-normal font-sans antialiased"><li class=" my-3 text-gray-700 font-normal font-sans antialiased"><a href="https://docs.kraken.com/websockets/" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Kraken WebSocket API</a></li><li class=" my-3 text-gray-700 font-normal font-sans antialiased"><a href="https://docs.gemini.com/websocket-api/" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Gemini WebSocket API</a></li><li class=" my-3 text-gray-700 font-normal font-sans antialiased"><a href="https://cex.io/websocket-api" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">CEXIO Websocket API</a></li></ul><p class=" my-4 text-gray-700 font-normal font-sans antialiased"><undefined>Currency trading is a topic I know nothing about <span role="img" aria-label="">ü§∑</span>‚Äç‚ôÇ but it feels interesting to explore more. Documentation of the 1st and 2nd API looks familiar from look&amp;feel perspective. I think we can make a bet they are already using AsyncAPI, and Kraken most probably is still running on version 1. Let&#x27;s release the Kraken then.</undefined></p><blockquote class=" italic font-sans antialiased text-gray-400 border-l-4 border-gray-400 pl-4 pt-1 pb-1 pr-1 my-4 bg-white"><p class=" my-4 text-gray-700 font-normal font-sans antialiased">I&#x27;m sorry if you expected me to describe Shrek&#x27;s API interface using AsyncAPI. It would be fun, but only fun, and I&#x27;d also like to teach you something.</p></blockquote><p class=" my-4 text-gray-700 font-normal font-sans antialiased">I will write an AsyncAPI document for Kraken API after playing with the API and basing it on the <a href="https://docs.kraken.com/websockets/" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">current documentation</a>.</p><h3 id="playing-with-websocket-api" class=" my-4 font-sans antialiased font-medium text-lg">Playing with WebSocket API</h3><p class=" my-4 text-gray-700 font-normal font-sans antialiased">The best way to play with a WebSocket API is through a CLI. Who didn&#x27;t hear about <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">curl</strong> in the REST API world? For WebSocket, I would recommend <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">websocat</strong>. Kraken&#x27;s API is partially public without authorization which is just great because to play with it, you do not have to set up an account to get an authorization token.</p><ol class=" my-4 ml-4 list-decimal text-gray-700 font-normal font-sans antialiased"><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Install <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">websocat</strong>. For other installation options, check out <a href="https://github.com/vi/websocat#installation" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">this</a> list.<div class=" my-8"><div class="language-sh rounded relative max-w-full rounded overflow-y-hidden overflow-x-auto py-2 bg-code-editor-dark z-10"><div class="absolute top-0 bottom-0 right-0 pl-5 pr-2 bg-code-editor-dark z-10"><button class="absolute bg-code-editor-dark z-50 text-xs text-gray-500 right-2 top-1 cursor-pointer hover:text-gray-300 focus:outline-none" title="Copy to clipboard"><span class="inline-block pt-1"><svg class="inline-block w-4 h-4 -mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path d="M15.6 2l-1.2 3H5.6L4.4 2C3.629 2 3 2.629 3 3.4v15.2c0 .77.629 1.4 1.399 1.4h11.2c.77 0 1.4-.631 1.4-1.4V3.4C17 2.629 16.369 2 15.6 2zm-2 2l.9-2h-2.181L11.6 0H8.4l-.72 2H5.5l.899 2H13.6z"></path></svg></span></button></div><div><div class="pr-8 relative overflow-y-auto"><pre class="pt-px pb-0 text-sm font-medium font-ligatures-contextual ml-3 text-xs" style="display:inline-block;background:#252f3f;color:#d6deeb"><code class="mr-8"><span class=" pr-8"><span>brew install websocat</span></span></code></pre></div></div></div></div></li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Establish connection with the API:<div class=" my-8"><div class="language-sh rounded relative max-w-full rounded overflow-y-hidden overflow-x-auto py-2 bg-code-editor-dark z-10"><div class="absolute top-0 bottom-0 right-0 pl-5 pr-2 bg-code-editor-dark z-10"><button class="absolute bg-code-editor-dark z-50 text-xs text-gray-500 right-2 top-1 cursor-pointer hover:text-gray-300 focus:outline-none" title="Copy to clipboard"><span class="inline-block pt-1"><svg class="inline-block w-4 h-4 -mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path d="M15.6 2l-1.2 3H5.6L4.4 2C3.629 2 3 2.629 3 3.4v15.2c0 .77.629 1.4 1.399 1.4h11.2c.77 0 1.4-.631 1.4-1.4V3.4C17 2.629 16.369 2 15.6 2zm-2 2l.9-2h-2.181L11.6 0H8.4l-.72 2H5.5l.899 2H13.6z"></path></svg></span></button></div><div><div class="pr-8 relative overflow-y-auto"><pre class="pt-px pb-0 text-sm font-medium font-ligatures-contextual ml-3 text-xs" style="display:inline-block;background:#252f3f;color:#d6deeb"><code class="mr-8"><span class=" pr-8"><span>websocat wss://ws.kraken.com</span></span></code></pre></div></div></div></div></li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Ping the API to see if it responds. Just type the below message and hit Enter:<div class=" my-8"><div class="language-json rounded relative max-w-full rounded overflow-y-hidden overflow-x-auto py-2 bg-code-editor-dark z-10"><div class="absolute top-0 bottom-0 right-0 pl-5 pr-2 bg-code-editor-dark z-10"><button class="absolute bg-code-editor-dark z-50 text-xs text-gray-500 right-2 top-1 cursor-pointer hover:text-gray-300 focus:outline-none" title="Copy to clipboard"><span class="inline-block pt-1"><svg class="inline-block w-4 h-4 -mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path d="M15.6 2l-1.2 3H5.6L4.4 2C3.629 2 3 2.629 3 3.4v15.2c0 .77.629 1.4 1.399 1.4h11.2c.77 0 1.4-.631 1.4-1.4V3.4C17 2.629 16.369 2 15.6 2zm-2 2l.9-2h-2.181L11.6 0H8.4l-.72 2H5.5l.899 2H13.6z"></path></svg></span></button></div><div><div class="pr-8 relative overflow-y-auto"><pre class="pt-px pb-0 text-sm font-medium font-ligatures-contextual ml-3 text-xs" style="display:inline-block;background:#252f3f;color:#d6deeb"><code class="mr-8"><span class=" pr-8"><span>{</span><span style="color:#7edcda">&quot;event&quot;</span><span>: </span><span style="color:#c0e2a3;font-weight:500">&quot;ping&quot;</span><span>}</span></span></code></pre></div></div></div></div></li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Now subscribe to the event <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">ticker</strong> stream that sends messages with currency price. Just type the below message and hit Enter:<div class=" my-8"><div class="language-json rounded relative max-w-full rounded overflow-y-hidden overflow-x-auto py-2 bg-code-editor-dark z-10"><div class="absolute top-0 bottom-0 right-0 pl-5 pr-2 bg-code-editor-dark z-10"><button class="absolute bg-code-editor-dark z-50 text-xs text-gray-500 right-2 top-1 cursor-pointer hover:text-gray-300 focus:outline-none" title="Copy to clipboard"><span class="inline-block pt-1"><svg class="inline-block w-4 h-4 -mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path d="M15.6 2l-1.2 3H5.6L4.4 2C3.629 2 3 2.629 3 3.4v15.2c0 .77.629 1.4 1.399 1.4h11.2c.77 0 1.4-.631 1.4-1.4V3.4C17 2.629 16.369 2 15.6 2zm-2 2l.9-2h-2.181L11.6 0H8.4l-.72 2H5.5l.899 2H13.6z"></path></svg></span></button></div><div><div class="pr-8 relative overflow-y-auto"><pre class="pt-px pb-0 text-sm font-medium font-ligatures-contextual ml-3 text-xs" style="display:inline-block;background:#252f3f;color:#d6deeb"><code class="mr-8"><span class=" pr-8"><span>{  </span><span style="color:#7edcda">&quot;event&quot;</span><span>: </span><span style="color:#c0e2a3;font-weight:500">&quot;subscribe&quot;</span><span>,  </span><span style="color:#7edcda">&quot;pair&quot;</span><span>: [    </span><span style="color:#c0e2a3;font-weight:500">&quot;XBT/USD&quot;</span><span>,    </span><span style="color:#c0e2a3;font-weight:500">&quot;XBT/EUR&quot;</span><span>  ],  </span><span style="color:#7edcda">&quot;subscription&quot;</span><span>: {    </span><span style="color:#7edcda">&quot;name&quot;</span><span>: </span><span style="color:#c0e2a3;font-weight:500">&quot;ticker&quot;</span><span>  }}</span></span></code></pre></div></div></div></div></li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">You should now see a constant stream of data sent by the server. You do not have to ask the API every second for an update, as the update is pushed to you.<div class=" my-8"><div class="language-json rounded relative max-w-full rounded overflow-y-hidden overflow-x-auto py-2 bg-code-editor-dark z-10"><div class=" z-10"><button class="absolute bg-code-editor-dark z-50 text-xs text-gray-500 right-2 top-1 cursor-pointer hover:text-gray-300 focus:outline-none" title="Copy to clipboard"><span class="inline-block pt-1"><svg class="inline-block w-4 h-4 -mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path d="M15.6 2l-1.2 3H5.6L4.4 2C3.629 2 3 2.629 3 3.4v15.2c0 .77.629 1.4 1.399 1.4h11.2c.77 0 1.4-.631 1.4-1.4V3.4C17 2.629 16.369 2 15.6 2zm-2 2l.9-2h-2.181L11.6 0H8.4l-.72 2H5.5l.899 2H13.6z"></path></svg></span></button></div><div><div class="pr-8 relative overflow-y-auto"><pre class="pt-px pb-0 text-sm font-medium font-ligatures-contextual ml-0 text-xs" style="display:inline-block;background:#252f3f;color:#d6deeb"><code class="pl-2 float-left left-0 sticky bg-code-editor-dark"><span class="text-gray-600 block pl-2 pr-2">1
</span><span class="text-gray-600 block pl-2 pr-2">2
</span><span class="text-gray-600 block pl-2 pr-2">3
</span><span class="text-gray-600 block pl-2 pr-2">4
</span><span class="text-gray-600 block pl-2 pr-2">5
</span><span class="text-gray-600 block pl-2 pr-2">6
</span></code><code class="mr-8"><span class=" pr-8"><span>{</span><span style="color:#7edcda">&quot;event&quot;</span><span>:</span><span style="color:#c0e2a3;font-weight:500">&quot;heartbeat&quot;</span><span>}
</span></span><span class=" pr-8"><span>[</span><span style="color:#d8da68">340</span><span>,{</span><span style="color:#7edcda">&quot;a&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;45520.10000&quot;</span><span>,</span><span style="color:#d8da68">6</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;6.78103490&quot;</span><span>],</span><span style="color:#7edcda">&quot;b&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;45520.00000&quot;</span><span>,</span><span style="color:#d8da68">0</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;0.00185230&quot;</span><span>],</span><span style="color:#7edcda">&quot;c&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;45520.10000&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;0.01643250&quot;</span><span>],</span><span style="color:#7edcda">&quot;v&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;1397.95434819&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;5589.12101024&quot;</span><span>],</span><span style="color:#7edcda">&quot;p&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;44883.49461&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;44062.07654&quot;</span><span>],</span><span style="color:#7edcda">&quot;t&quot;</span><span>:[</span><span style="color:#d8da68">14350</span><span>,</span><span style="color:#d8da68">66782</span><span>],</span><span style="color:#7edcda">&quot;l&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;43607.60000&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;42770.80000&quot;</span><span>],</span><span style="color:#7edcda">&quot;h&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;45811.10000&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;45811.10000&quot;</span><span>],</span><span style="color:#7edcda">&quot;o&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;43659.30000&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;44709.10000&quot;</span><span>]},</span><span style="color:#c0e2a3;font-weight:500">&quot;ticker&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;XBT/EUR&quot;</span><span>]
</span></span><span class=" pr-8"><span>[</span><span style="color:#d8da68">340</span><span>,{</span><span style="color:#7edcda">&quot;a&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;45520.10000&quot;</span><span>,</span><span style="color:#d8da68">5</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;5.84803490&quot;</span><span>],</span><span style="color:#7edcda">&quot;b&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;45492.50000&quot;</span><span>,</span><span style="color:#d8da68">0</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;0.09374582&quot;</span><span>],</span><span style="color:#7edcda">&quot;c&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;45492.50000&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;0.00625418&quot;</span><span>],</span><span style="color:#7edcda">&quot;v&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;1398.10526819&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;5589.26685876&quot;</span><span>],</span><span style="color:#7edcda">&quot;p&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;44883.56109&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;44062.11477&quot;</span><span>],</span><span style="color:#7edcda">&quot;t&quot;</span><span>:[</span><span style="color:#d8da68">14359</span><span>,</span><span style="color:#d8da68">66790</span><span>],</span><span style="color:#7edcda">&quot;l&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;43607.60000&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;42770.80000&quot;</span><span>],</span><span style="color:#7edcda">&quot;h&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;45811.10000&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;45811.10000&quot;</span><span>],</span><span style="color:#7edcda">&quot;o&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;43659.30000&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;44709.10000&quot;</span><span>]},</span><span style="color:#c0e2a3;font-weight:500">&quot;ticker&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;XBT/EUR&quot;</span><span>]
</span></span><span class=" pr-8"><span>{</span><span style="color:#7edcda">&quot;event&quot;</span><span>:</span><span style="color:#c0e2a3;font-weight:500">&quot;heartbeat&quot;</span><span>}
</span></span><span class=" pr-8"><span>[</span><span style="color:#d8da68">340</span><span>,{</span><span style="color:#7edcda">&quot;a&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;45503.80000&quot;</span><span>,</span><span style="color:#d8da68">1</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;1.00000000&quot;</span><span>],</span><span style="color:#7edcda">&quot;b&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;45496.20000&quot;</span><span>,</span><span style="color:#d8da68">0</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;0.01426600&quot;</span><span>],</span><span style="color:#7edcda">&quot;c&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;45496.20000&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;0.00109400&quot;</span><span>],</span><span style="color:#7edcda">&quot;v&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;1398.10636219&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;5589.26295766&quot;</span><span>],</span><span style="color:#7edcda">&quot;p&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;44883.56157&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;44062.11447&quot;</span><span>],</span><span style="color:#7edcda">&quot;t&quot;</span><span>:[</span><span style="color:#d8da68">14360</span><span>,</span><span style="color:#d8da68">66788</span><span>],</span><span style="color:#7edcda">&quot;l&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;43607.60000&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;42770.80000&quot;</span><span>],</span><span style="color:#7edcda">&quot;h&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;45811.10000&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;45811.10000&quot;</span><span>],</span><span style="color:#7edcda">&quot;o&quot;</span><span>:[</span><span style="color:#c0e2a3;font-weight:500">&quot;43659.30000&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;44709.90000&quot;</span><span>]},</span><span style="color:#c0e2a3;font-weight:500">&quot;ticker&quot;</span><span>,</span><span style="color:#c0e2a3;font-weight:500">&quot;XBT/EUR&quot;</span><span>]
</span></span><span class=" pr-8"><span>{</span><span style="color:#7edcda">&quot;event&quot;</span><span>:</span><span style="color:#c0e2a3;font-weight:500">&quot;heartbeat&quot;</span><span>}</span></span></code></pre></div></div></div></div></li></ol><p class=" my-4 text-gray-700 font-normal font-sans antialiased"><undefined>Boy, it is always such fun to do it. Like seriously, I always have fun playing with APIs, any APIs. Just making this API &quot;conversation&quot;. I hope nothing is wrong with me <span role="img" aria-label="smiling face with open mouth &amp; cold sweat">üòÖ</span></undefined></p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Now you know how to interact with the Kraken API. Now let&#x27;s try to describe it using AsyncAPI.</p><h3 id="describing-api-using-asyncapi" class=" my-4 font-sans antialiased font-medium text-lg">Describing API using AsyncAPI</h3><p class=" my-4 text-gray-700 font-normal font-sans antialiased">I&#x27;ll explain, in detail, how to describe Websocket API with AsyncAPI in another blog post that will be part of the series. Why? I don&#x27;t want to make this post super lengthy and discourage others from reading it. Let us learn step by step. </p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">For now, I will throw here a full AsyncAPI document I created for the Kraken API. You can also open it up in the <a href="https://playground.asyncapi.io?url=https://gist.githubusercontent.com/derberg/4e419d6ff5870c7c3f5f443e8bd30535/raw/5e9b733b80a0209ba5520e5f41ab18c2a112e0a9/asyncapi-websocket-kraken.yml" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">AsyncAPI Playground</a> and compare with their <a href="https://docs.kraken.com/websockets/" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">current documentation</a></p><p class=" my-4 text-gray-700 font-normal font-sans antialiased">Familiarize with below before you look at the AsyncAPI document:</p><ul class=" my-4 ml-4 list-disc text-gray-700 font-normal font-sans antialiased"><li class=" my-3 text-gray-700 font-normal font-sans antialiased">AsyncAPI describes the API interface between the client and the server. In other words, the AsyncAPI document is for the user of the API. It does not describe what the server does but what the user can do with the API.</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Kraken API is quite complex. It has some beta servers, some private messages, and messages closely related to vocabulary specific for currency trading. I dropped all of those from my research not to overcomplicate things. In other words, the AsyncAPI file that you can see below is not a complete document.</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Websocket protocol is very flexible, and therefore you can implement the server in many different ways. There is no standard way of doing things, like there is no common way of doing things with AsyncAPI. We can only make some generic assumptions looking at existing implementations:<ul class=" my-4 ml-4 list-disc text-gray-700 font-normal font-sans antialiased"><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Your server has one entry point, just one endpoint that you communicate with to gain access to the API. It can be a <a href="https://ik.imagekit.io/ably/s3/xchg_products/async_api_specs/000/000/019/original/weather.yaml" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">path with some dynamic values</a>, as some data id. It can also be nothing, no path at all, like in the case of below Kraken API. These entry points are <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">channels</strong> in AsyncAPI document. Commonly, Websocket API has just one <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">channel</strong> that user can send messages to and receive messages at the same time</li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">AsyncAPI publish and subscribe operations translates to <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">messages user can send to the API</strong> and <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">messages user will receive from the API</strong>. Depending on API complexity, sometimes you have an API that sends <a href="https://ik.imagekit.io/ably/s3/xchg_products/async_api_specs/000/000/019/original/weather.yaml" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">only one message</a>. You can also have a situation where you can send to the server multiple different messages, and also receive different messages in response. This is when you need to use <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">oneOf</strong> as I did in document for Kraken API.</li></ul></li><li class=" my-3 text-gray-700 font-normal font-sans antialiased">Current AsyncAPI limitation is that you cannot specify that once the user sends (publish) message <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">ping</strong>, the <strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">pong</strong> message is a reply. Look at this <a href="https://github.com/asyncapi/spec/issues/94" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">thread</a> to participate in an ongoing discussion about request/reply pattern support in AsyncAPI. In the below document, you will notice that for such a use case, I use AsyncAPI specification extensions (<strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">x-response</strong>).</li></ul><blockquote class=" italic font-sans antialiased text-gray-400 border-l-4 border-gray-400 pl-4 pt-1 pb-1 pr-1 my-4 bg-white"><p class=" my-4 text-gray-700 font-normal font-sans antialiased"><strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">Message to Kraken API developers and technical writers</strong> <br/>
In case you want to continue the work I started on the AsyncAPI document for Kraken API, feel free to do that. I&#x27;m happy to help, just let me know. Reach me out in our <a href="https://www.asyncapi.com/slack-invite/" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">AsyncAPI Slack workspace</a>.</p></blockquote><div class=" my-8"><div class="language-yml rounded relative max-w-full rounded overflow-y-hidden overflow-x-auto py-2 bg-code-editor-dark z-10"><div class=" z-10"><button class="absolute bg-code-editor-dark z-50 text-xs text-gray-500 right-2 top-1 cursor-pointer hover:text-gray-300 focus:outline-none" title="Copy to clipboard"><span class="inline-block pt-1"><svg class="inline-block w-4 h-4 -mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path d="M15.6 2l-1.2 3H5.6L4.4 2C3.629 2 3 2.629 3 3.4v15.2c0 .77.629 1.4 1.399 1.4h11.2c.77 0 1.4-.631 1.4-1.4V3.4C17 2.629 16.369 2 15.6 2zm-2 2l.9-2h-2.181L11.6 0H8.4l-.72 2H5.5l.899 2H13.6z"></path></svg></span></button></div><div><div class="pr-8 relative overflow-y-auto"><pre class="pt-px pb-0 text-sm font-medium font-ligatures-contextual ml-0 text-xs" style="display:inline-block;background:#252f3f;color:#d6deeb"><code class="pl-2 float-left left-0 sticky bg-code-editor-dark"><span class="text-gray-600 block pl-2 pr-2">1
</span><span class="text-gray-600 block pl-2 pr-2">2
</span><span class="text-gray-600 block pl-2 pr-2">3
</span><span class="text-gray-600 block pl-2 pr-2">4
</span><span class="text-gray-600 block pl-2 pr-2">5
</span><span class="text-gray-600 block pl-2 pr-2">6
</span><span class="text-gray-600 block pl-2 pr-2">7
</span><span class="text-gray-600 block pl-2 pr-2">8
</span><span class="text-gray-600 block pl-2 pr-2">9
</span><span class="text-gray-600 block pl-2 pr-2">10
</span><span class="text-gray-600 block pl-2 pr-2">11
</span><span class="text-gray-600 block pl-2 pr-2">12
</span><span class="text-gray-600 block pl-2 pr-2">13
</span><span class="text-gray-600 block pl-2 pr-2">14
</span><span class="text-gray-600 block pl-2 pr-2">15
</span><span class="text-gray-600 block pl-2 pr-2">16
</span><span class="text-gray-600 block pl-2 pr-2">17
</span><span class="text-gray-600 block pl-2 pr-2">18
</span><span class="text-gray-600 block pl-2 pr-2">19
</span><span class="text-gray-600 block pl-2 pr-2">20
</span><span class="text-gray-600 block pl-2 pr-2">21
</span><span class="text-gray-600 block pl-2 pr-2">22
</span><span class="text-gray-600 block pl-2 pr-2">23
</span><span class="text-gray-600 block pl-2 pr-2">24
</span><span class="text-gray-600 block pl-2 pr-2">25
</span><span class="text-gray-600 block pl-2 pr-2">26
</span><span class="text-gray-600 block pl-2 pr-2">27
</span><span class="text-gray-600 block pl-2 pr-2">28
</span><span class="text-gray-600 block pl-2 pr-2">29
</span><span class="text-gray-600 block pl-2 pr-2">30
</span><span class="text-gray-600 block pl-2 pr-2">31
</span><span class="text-gray-600 block pl-2 pr-2">32
</span><span class="text-gray-600 block pl-2 pr-2">33
</span><span class="text-gray-600 block pl-2 pr-2">34
</span><span class="text-gray-600 block pl-2 pr-2">35
</span><span class="text-gray-600 block pl-2 pr-2">36
</span><span class="text-gray-600 block pl-2 pr-2">37
</span><span class="text-gray-600 block pl-2 pr-2">38
</span><span class="text-gray-600 block pl-2 pr-2">39
</span><span class="text-gray-600 block pl-2 pr-2">40
</span><span class="text-gray-600 block pl-2 pr-2">41
</span><span class="text-gray-600 block pl-2 pr-2">42
</span><span class="text-gray-600 block pl-2 pr-2">43
</span><span class="text-gray-600 block pl-2 pr-2">44
</span><span class="text-gray-600 block pl-2 pr-2">45
</span><span class="text-gray-600 block pl-2 pr-2">46
</span><span class="text-gray-600 block pl-2 pr-2">47
</span><span class="text-gray-600 block pl-2 pr-2">48
</span><span class="text-gray-600 block pl-2 pr-2">49
</span><span class="text-gray-600 block pl-2 pr-2">50
</span><span class="text-gray-600 block pl-2 pr-2">51
</span><span class="text-gray-600 block pl-2 pr-2">52
</span><span class="text-gray-600 block pl-2 pr-2">53
</span><span class="text-gray-600 block pl-2 pr-2">54
</span><span class="text-gray-600 block pl-2 pr-2">55
</span><span class="text-gray-600 block pl-2 pr-2">56
</span><span class="text-gray-600 block pl-2 pr-2">57
</span><span class="text-gray-600 block pl-2 pr-2">58
</span><span class="text-gray-600 block pl-2 pr-2">59
</span><span class="text-gray-600 block pl-2 pr-2">60
</span><span class="text-gray-600 block pl-2 pr-2">61
</span><span class="text-gray-600 block pl-2 pr-2">62
</span><span class="text-gray-600 block pl-2 pr-2">63
</span><span class="text-gray-600 block pl-2 pr-2">64
</span><span class="text-gray-600 block pl-2 pr-2">65
</span><span class="text-gray-600 block pl-2 pr-2">66
</span><span class="text-gray-600 block pl-2 pr-2">67
</span><span class="text-gray-600 block pl-2 pr-2">68
</span><span class="text-gray-600 block pl-2 pr-2">69
</span><span class="text-gray-600 block pl-2 pr-2">70
</span><span class="text-gray-600 block pl-2 pr-2">71
</span><span class="text-gray-600 block pl-2 pr-2">72
</span><span class="text-gray-600 block pl-2 pr-2">73
</span><span class="text-gray-600 block pl-2 pr-2">74
</span><span class="text-gray-600 block pl-2 pr-2">75
</span><span class="text-gray-600 block pl-2 pr-2">76
</span><span class="text-gray-600 block pl-2 pr-2">77
</span><span class="text-gray-600 block pl-2 pr-2">78
</span><span class="text-gray-600 block pl-2 pr-2">79
</span><span class="text-gray-600 block pl-2 pr-2">80
</span><span class="text-gray-600 block pl-2 pr-2">81
</span><span class="text-gray-600 block pl-2 pr-2">82
</span><span class="text-gray-600 block pl-2 pr-2">83
</span><span class="text-gray-600 block pl-2 pr-2">84
</span><span class="text-gray-600 block pl-2 pr-2">85
</span><span class="text-gray-600 block pl-2 pr-2">86
</span><span class="text-gray-600 block pl-2 pr-2">87
</span><span class="text-gray-600 block pl-2 pr-2">88
</span><span class="text-gray-600 block pl-2 pr-2">89
</span><span class="text-gray-600 block pl-2 pr-2">90
</span><span class="text-gray-600 block pl-2 pr-2">91
</span><span class="text-gray-600 block pl-2 pr-2">92
</span><span class="text-gray-600 block pl-2 pr-2">93
</span><span class="text-gray-600 block pl-2 pr-2">94
</span><span class="text-gray-600 block pl-2 pr-2">95
</span><span class="text-gray-600 block pl-2 pr-2">96
</span><span class="text-gray-600 block pl-2 pr-2">97
</span><span class="text-gray-600 block pl-2 pr-2">98
</span><span class="text-gray-600 block pl-2 pr-2">99
</span><span class="text-gray-600 block pl-2 pr-2">100
</span><span class="text-gray-600 block pl-2 pr-2">101
</span><span class="text-gray-600 block pl-2 pr-2">102
</span><span class="text-gray-600 block pl-2 pr-2">103
</span><span class="text-gray-600 block pl-2 pr-2">104
</span><span class="text-gray-600 block pl-2 pr-2">105
</span><span class="text-gray-600 block pl-2 pr-2">106
</span><span class="text-gray-600 block pl-2 pr-2">107
</span><span class="text-gray-600 block pl-2 pr-2">108
</span><span class="text-gray-600 block pl-2 pr-2">109
</span><span class="text-gray-600 block pl-2 pr-2">110
</span><span class="text-gray-600 block pl-2 pr-2">111
</span><span class="text-gray-600 block pl-2 pr-2">112
</span><span class="text-gray-600 block pl-2 pr-2">113
</span><span class="text-gray-600 block pl-2 pr-2">114
</span><span class="text-gray-600 block pl-2 pr-2">115
</span><span class="text-gray-600 block pl-2 pr-2">116
</span><span class="text-gray-600 block pl-2 pr-2">117
</span><span class="text-gray-600 block pl-2 pr-2">118
</span><span class="text-gray-600 block pl-2 pr-2">119
</span><span class="text-gray-600 block pl-2 pr-2">120
</span><span class="text-gray-600 block pl-2 pr-2">121
</span><span class="text-gray-600 block pl-2 pr-2">122
</span><span class="text-gray-600 block pl-2 pr-2">123
</span><span class="text-gray-600 block pl-2 pr-2">124
</span><span class="text-gray-600 block pl-2 pr-2">125
</span><span class="text-gray-600 block pl-2 pr-2">126
</span><span class="text-gray-600 block pl-2 pr-2">127
</span><span class="text-gray-600 block pl-2 pr-2">128
</span><span class="text-gray-600 block pl-2 pr-2">129
</span><span class="text-gray-600 block pl-2 pr-2">130
</span><span class="text-gray-600 block pl-2 pr-2">131
</span><span class="text-gray-600 block pl-2 pr-2">132
</span><span class="text-gray-600 block pl-2 pr-2">133
</span><span class="text-gray-600 block pl-2 pr-2">134
</span><span class="text-gray-600 block pl-2 pr-2">135
</span><span class="text-gray-600 block pl-2 pr-2">136
</span><span class="text-gray-600 block pl-2 pr-2">137
</span><span class="text-gray-600 block pl-2 pr-2">138
</span><span class="text-gray-600 block pl-2 pr-2">139
</span><span class="text-gray-600 block pl-2 pr-2">140
</span><span class="text-gray-600 block pl-2 pr-2">141
</span><span class="text-gray-600 block pl-2 pr-2">142
</span><span class="text-gray-600 block pl-2 pr-2">143
</span><span class="text-gray-600 block pl-2 pr-2">144
</span><span class="text-gray-600 block pl-2 pr-2">145
</span><span class="text-gray-600 block pl-2 pr-2">146
</span><span class="text-gray-600 block pl-2 pr-2">147
</span><span class="text-gray-600 block pl-2 pr-2">148
</span><span class="text-gray-600 block pl-2 pr-2">149
</span><span class="text-gray-600 block pl-2 pr-2">150
</span><span class="text-gray-600 block pl-2 pr-2">151
</span><span class="text-gray-600 block pl-2 pr-2">152
</span><span class="text-gray-600 block pl-2 pr-2">153
</span><span class="text-gray-600 block pl-2 pr-2">154
</span><span class="text-gray-600 block pl-2 pr-2">155
</span><span class="text-gray-600 block pl-2 pr-2">156
</span><span class="text-gray-600 block pl-2 pr-2">157
</span><span class="text-gray-600 block pl-2 pr-2">158
</span><span class="text-gray-600 block pl-2 pr-2">159
</span><span class="text-gray-600 block pl-2 pr-2">160
</span><span class="text-gray-600 block pl-2 pr-2">161
</span><span class="text-gray-600 block pl-2 pr-2">162
</span><span class="text-gray-600 block pl-2 pr-2">163
</span><span class="text-gray-600 block pl-2 pr-2">164
</span><span class="text-gray-600 block pl-2 pr-2">165
</span><span class="text-gray-600 block pl-2 pr-2">166
</span><span class="text-gray-600 block pl-2 pr-2">167
</span><span class="text-gray-600 block pl-2 pr-2">168
</span><span class="text-gray-600 block pl-2 pr-2">169
</span><span class="text-gray-600 block pl-2 pr-2">170
</span><span class="text-gray-600 block pl-2 pr-2">171
</span><span class="text-gray-600 block pl-2 pr-2">172
</span><span class="text-gray-600 block pl-2 pr-2">173
</span><span class="text-gray-600 block pl-2 pr-2">174
</span><span class="text-gray-600 block pl-2 pr-2">175
</span><span class="text-gray-600 block pl-2 pr-2">176
</span><span class="text-gray-600 block pl-2 pr-2">177
</span><span class="text-gray-600 block pl-2 pr-2">178
</span><span class="text-gray-600 block pl-2 pr-2">179
</span><span class="text-gray-600 block pl-2 pr-2">180
</span><span class="text-gray-600 block pl-2 pr-2">181
</span><span class="text-gray-600 block pl-2 pr-2">182
</span><span class="text-gray-600 block pl-2 pr-2">183
</span><span class="text-gray-600 block pl-2 pr-2">184
</span><span class="text-gray-600 block pl-2 pr-2">185
</span><span class="text-gray-600 block pl-2 pr-2">186
</span><span class="text-gray-600 block pl-2 pr-2">187
</span><span class="text-gray-600 block pl-2 pr-2">188
</span><span class="text-gray-600 block pl-2 pr-2">189
</span><span class="text-gray-600 block pl-2 pr-2">190
</span><span class="text-gray-600 block pl-2 pr-2">191
</span><span class="text-gray-600 block pl-2 pr-2">192
</span><span class="text-gray-600 block pl-2 pr-2">193
</span><span class="text-gray-600 block pl-2 pr-2">194
</span><span class="text-gray-600 block pl-2 pr-2">195
</span><span class="text-gray-600 block pl-2 pr-2">196
</span><span class="text-gray-600 block pl-2 pr-2">197
</span><span class="text-gray-600 block pl-2 pr-2">198
</span><span class="text-gray-600 block pl-2 pr-2">199
</span><span class="text-gray-600 block pl-2 pr-2">200
</span><span class="text-gray-600 block pl-2 pr-2">201
</span><span class="text-gray-600 block pl-2 pr-2">202
</span><span class="text-gray-600 block pl-2 pr-2">203
</span><span class="text-gray-600 block pl-2 pr-2">204
</span><span class="text-gray-600 block pl-2 pr-2">205
</span><span class="text-gray-600 block pl-2 pr-2">206
</span><span class="text-gray-600 block pl-2 pr-2">207
</span><span class="text-gray-600 block pl-2 pr-2">208
</span><span class="text-gray-600 block pl-2 pr-2">209
</span><span class="text-gray-600 block pl-2 pr-2">210
</span><span class="text-gray-600 block pl-2 pr-2">211
</span><span class="text-gray-600 block pl-2 pr-2">212
</span><span class="text-gray-600 block pl-2 pr-2">213
</span><span class="text-gray-600 block pl-2 pr-2">214
</span><span class="text-gray-600 block pl-2 pr-2">215
</span><span class="text-gray-600 block pl-2 pr-2">216
</span><span class="text-gray-600 block pl-2 pr-2">217
</span><span class="text-gray-600 block pl-2 pr-2">218
</span><span class="text-gray-600 block pl-2 pr-2">219
</span><span class="text-gray-600 block pl-2 pr-2">220
</span><span class="text-gray-600 block pl-2 pr-2">221
</span><span class="text-gray-600 block pl-2 pr-2">222
</span><span class="text-gray-600 block pl-2 pr-2">223
</span><span class="text-gray-600 block pl-2 pr-2">224
</span><span class="text-gray-600 block pl-2 pr-2">225
</span><span class="text-gray-600 block pl-2 pr-2">226
</span><span class="text-gray-600 block pl-2 pr-2">227
</span><span class="text-gray-600 block pl-2 pr-2">228
</span><span class="text-gray-600 block pl-2 pr-2">229
</span><span class="text-gray-600 block pl-2 pr-2">230
</span><span class="text-gray-600 block pl-2 pr-2">231
</span><span class="text-gray-600 block pl-2 pr-2">232
</span><span class="text-gray-600 block pl-2 pr-2">233
</span><span class="text-gray-600 block pl-2 pr-2">234
</span><span class="text-gray-600 block pl-2 pr-2">235
</span><span class="text-gray-600 block pl-2 pr-2">236
</span><span class="text-gray-600 block pl-2 pr-2">237
</span><span class="text-gray-600 block pl-2 pr-2">238
</span><span class="text-gray-600 block pl-2 pr-2">239
</span><span class="text-gray-600 block pl-2 pr-2">240
</span><span class="text-gray-600 block pl-2 pr-2">241
</span><span class="text-gray-600 block pl-2 pr-2">242
</span><span class="text-gray-600 block pl-2 pr-2">243
</span><span class="text-gray-600 block pl-2 pr-2">244
</span><span class="text-gray-600 block pl-2 pr-2">245
</span><span class="text-gray-600 block pl-2 pr-2">246
</span><span class="text-gray-600 block pl-2 pr-2">247
</span><span class="text-gray-600 block pl-2 pr-2">248
</span><span class="text-gray-600 block pl-2 pr-2">249
</span><span class="text-gray-600 block pl-2 pr-2">250
</span><span class="text-gray-600 block pl-2 pr-2">251
</span><span class="text-gray-600 block pl-2 pr-2">252
</span><span class="text-gray-600 block pl-2 pr-2">253
</span><span class="text-gray-600 block pl-2 pr-2">254
</span><span class="text-gray-600 block pl-2 pr-2">255
</span><span class="text-gray-600 block pl-2 pr-2">256
</span><span class="text-gray-600 block pl-2 pr-2">257
</span><span class="text-gray-600 block pl-2 pr-2">258
</span><span class="text-gray-600 block pl-2 pr-2">259
</span><span class="text-gray-600 block pl-2 pr-2">260
</span><span class="text-gray-600 block pl-2 pr-2">261
</span><span class="text-gray-600 block pl-2 pr-2">262
</span><span class="text-gray-600 block pl-2 pr-2">263
</span><span class="text-gray-600 block pl-2 pr-2">264
</span><span class="text-gray-600 block pl-2 pr-2">265
</span><span class="text-gray-600 block pl-2 pr-2">266
</span><span class="text-gray-600 block pl-2 pr-2">267
</span><span class="text-gray-600 block pl-2 pr-2">268
</span><span class="text-gray-600 block pl-2 pr-2">269
</span><span class="text-gray-600 block pl-2 pr-2">270
</span><span class="text-gray-600 block pl-2 pr-2">271
</span><span class="text-gray-600 block pl-2 pr-2">272
</span><span class="text-gray-600 block pl-2 pr-2">273
</span><span class="text-gray-600 block pl-2 pr-2">274
</span><span class="text-gray-600 block pl-2 pr-2">275
</span><span class="text-gray-600 block pl-2 pr-2">276
</span><span class="text-gray-600 block pl-2 pr-2">277
</span><span class="text-gray-600 block pl-2 pr-2">278
</span><span class="text-gray-600 block pl-2 pr-2">279
</span><span class="text-gray-600 block pl-2 pr-2">280
</span><span class="text-gray-600 block pl-2 pr-2">281
</span><span class="text-gray-600 block pl-2 pr-2">282
</span><span class="text-gray-600 block pl-2 pr-2">283
</span><span class="text-gray-600 block pl-2 pr-2">284
</span><span class="text-gray-600 block pl-2 pr-2">285
</span><span class="text-gray-600 block pl-2 pr-2">286
</span><span class="text-gray-600 block pl-2 pr-2">287
</span><span class="text-gray-600 block pl-2 pr-2">288
</span><span class="text-gray-600 block pl-2 pr-2">289
</span><span class="text-gray-600 block pl-2 pr-2">290
</span><span class="text-gray-600 block pl-2 pr-2">291
</span><span class="text-gray-600 block pl-2 pr-2">292
</span><span class="text-gray-600 block pl-2 pr-2">293
</span><span class="text-gray-600 block pl-2 pr-2">294
</span><span class="text-gray-600 block pl-2 pr-2">295
</span><span class="text-gray-600 block pl-2 pr-2">296
</span><span class="text-gray-600 block pl-2 pr-2">297
</span><span class="text-gray-600 block pl-2 pr-2">298
</span><span class="text-gray-600 block pl-2 pr-2">299
</span><span class="text-gray-600 block pl-2 pr-2">300
</span><span class="text-gray-600 block pl-2 pr-2">301
</span><span class="text-gray-600 block pl-2 pr-2">302
</span><span class="text-gray-600 block pl-2 pr-2">303
</span><span class="text-gray-600 block pl-2 pr-2">304
</span><span class="text-gray-600 block pl-2 pr-2">305
</span><span class="text-gray-600 block pl-2 pr-2">306
</span><span class="text-gray-600 block pl-2 pr-2">307
</span><span class="text-gray-600 block pl-2 pr-2">308
</span><span class="text-gray-600 block pl-2 pr-2">309
</span><span class="text-gray-600 block pl-2 pr-2">310
</span><span class="text-gray-600 block pl-2 pr-2">311
</span><span class="text-gray-600 block pl-2 pr-2">312
</span><span class="text-gray-600 block pl-2 pr-2">313
</span><span class="text-gray-600 block pl-2 pr-2">314
</span><span class="text-gray-600 block pl-2 pr-2">315
</span><span class="text-gray-600 block pl-2 pr-2">316
</span><span class="text-gray-600 block pl-2 pr-2">317
</span><span class="text-gray-600 block pl-2 pr-2">318
</span><span class="text-gray-600 block pl-2 pr-2">319
</span><span class="text-gray-600 block pl-2 pr-2">320
</span><span class="text-gray-600 block pl-2 pr-2">321
</span><span class="text-gray-600 block pl-2 pr-2">322
</span><span class="text-gray-600 block pl-2 pr-2">323
</span><span class="text-gray-600 block pl-2 pr-2">324
</span><span class="text-gray-600 block pl-2 pr-2">325
</span><span class="text-gray-600 block pl-2 pr-2">326
</span><span class="text-gray-600 block pl-2 pr-2">327
</span><span class="text-gray-600 block pl-2 pr-2">328
</span><span class="text-gray-600 block pl-2 pr-2">329
</span><span class="text-gray-600 block pl-2 pr-2">330
</span><span class="text-gray-600 block pl-2 pr-2">331
</span><span class="text-gray-600 block pl-2 pr-2">332
</span><span class="text-gray-600 block pl-2 pr-2">333
</span><span class="text-gray-600 block pl-2 pr-2">334
</span><span class="text-gray-600 block pl-2 pr-2">335
</span><span class="text-gray-600 block pl-2 pr-2">336
</span><span class="text-gray-600 block pl-2 pr-2">337
</span><span class="text-gray-600 block pl-2 pr-2">338
</span><span class="text-gray-600 block pl-2 pr-2">339
</span><span class="text-gray-600 block pl-2 pr-2">340
</span><span class="text-gray-600 block pl-2 pr-2">341
</span><span class="text-gray-600 block pl-2 pr-2">342
</span><span class="text-gray-600 block pl-2 pr-2">343
</span><span class="text-gray-600 block pl-2 pr-2">344
</span><span class="text-gray-600 block pl-2 pr-2">345
</span><span class="text-gray-600 block pl-2 pr-2">346
</span><span class="text-gray-600 block pl-2 pr-2">347
</span><span class="text-gray-600 block pl-2 pr-2">348
</span><span class="text-gray-600 block pl-2 pr-2">349
</span><span class="text-gray-600 block pl-2 pr-2">350
</span><span class="text-gray-600 block pl-2 pr-2">351
</span><span class="text-gray-600 block pl-2 pr-2">352
</span><span class="text-gray-600 block pl-2 pr-2">353
</span><span class="text-gray-600 block pl-2 pr-2">354
</span><span class="text-gray-600 block pl-2 pr-2">355
</span><span class="text-gray-600 block pl-2 pr-2">356
</span><span class="text-gray-600 block pl-2 pr-2">357
</span><span class="text-gray-600 block pl-2 pr-2">358
</span><span class="text-gray-600 block pl-2 pr-2">359
</span><span class="text-gray-600 block pl-2 pr-2">360
</span><span class="text-gray-600 block pl-2 pr-2">361
</span><span class="text-gray-600 block pl-2 pr-2">362
</span><span class="text-gray-600 block pl-2 pr-2">363
</span><span class="text-gray-600 block pl-2 pr-2">364
</span><span class="text-gray-600 block pl-2 pr-2">365
</span><span class="text-gray-600 block pl-2 pr-2">366
</span><span class="text-gray-600 block pl-2 pr-2">367
</span><span class="text-gray-600 block pl-2 pr-2">368
</span><span class="text-gray-600 block pl-2 pr-2">369
</span><span class="text-gray-600 block pl-2 pr-2">370
</span><span class="text-gray-600 block pl-2 pr-2">371
</span><span class="text-gray-600 block pl-2 pr-2">372
</span></code><code class="mr-8"><span class=" pr-8"><span style="color:#7edcda">asyncapi:</span><span> </span><span style="color:#d8da68">2.0</span><span style="color:#d8da68">.0</span><span>
</span></span><span class=" pr-8">
</span><span class=" pr-8"><span></span><span style="color:#7edcda">info:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">  title:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Kraken</span><span> </span><span style="color:#c0e2a3;font-weight:500">Websockets</span><span> </span><span style="color:#c0e2a3;font-weight:500">API</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">  version:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;1.8.0&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">  description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">|
</span></span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">    WebSockets API offers real-time market data updates. WebSockets is a bidirectional protocol offering fastest real-time data, helping you build real-time applications. The public message types presented below do not require authentication. Private-data messages can be subscribed on a separate authenticated endpoint. 
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">    ### General Considerations
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">    - TLS with SNI (Server Name Indication) is required in order to establish a Kraken WebSockets API connection. See Cloudflare&#x27;s [What is SNI?](https://www.cloudflare.com/learning/ssl/what-is-sni/) guide for more details.
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">    - All messages sent and received via WebSockets are encoded in JSON format
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">    - All decimal fields (including timestamps) are quoted to preserve precision.
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">    - Timestamps should not be considered unique and not be considered as aliases for transaction IDs. Also, the granularity of timestamps is not representative of transaction rates.
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">    - At least one private message should be subscribed to keep the authenticated client connection open.
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">    - Please use REST API endpoint [AssetPairs](https://www.kraken.com/features/api#get-tradable-pairs) to fetch the list of pairs which can be subscribed via WebSockets API. For example, field &#x27;wsname&#x27; gives the supported pairs name which can be used to subscribe.
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">    - Cloudflare imposes a connection/re-connection rate limit (per IP address) of approximately 150 attempts per rolling 10 minutes. If this is exceeded, the IP is banned for 10 minutes.
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">    - Recommended reconnection behaviour is to (1) attempt reconnection instantly up to a handful of times if the websocket is dropped randomly during normal operation but (2) after maintenance or extended downtime, attempt to reconnect no more quickly than once every 5 seconds. There is no advantage to reconnecting more rapidly after maintenance during cancel_only mode.
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">
</span><span class=" pr-8"><span style="color:#c0e2a3;font-weight:500"></span><span style="color:#7edcda">servers:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">  public:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    url:</span><span> </span><span style="color:#c0e2a3;font-weight:500">ws.kraken.com</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    protocol:</span><span> </span><span style="color:#c0e2a3;font-weight:500">wss</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">|
</span></span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">      Public server available without authorization.
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">      Once the socket is open you can subscribe to a public channel by sending a subscribe request message.
</span><span class=" pr-8"><span style="color:#c0e2a3;font-weight:500"></span><span style="color:#7edcda">  private:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    url:</span><span> </span><span style="color:#c0e2a3;font-weight:500">ws-auth.kraken.com</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    protocol:</span><span> </span><span style="color:#c0e2a3;font-weight:500">wss</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">|
</span></span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">      Private server that requires authorization.
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">      Once the socket is open you can subscribe to private-data channels by sending an authenticated subscribe request message.
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">      The API client must request an authentication &quot;token&quot; via the following REST API endpoint &quot;GetWebSocketsToken&quot; to connect to WebSockets Private endpoints. For more details read https://support.kraken.com/hc/en-us/articles/360034437672-How-to-retrieve-a-WebSocket-authentication-token-Example-code-in-Python-3
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">      The resulting token must be provided in the &quot;token&quot; field of any new private WebSocket feed subscription: 
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">      ```
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">      {
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">        &quot;event&quot;: &quot;subscribe&quot;,
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">        &quot;subscription&quot;:
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">        {
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">          &quot;name&quot;: &quot;ownTrades&quot;,
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">          &quot;token&quot;: &quot;WW91ciBhdXRoZW50aWNhdGlvbiB0b2tlbiBnb2VzIGhlcmUu&quot;
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">        }
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">      }
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">      ```
</span><span class=" pr-8" style="color:#c0e2a3;font-weight:500">
</span><span class=" pr-8"><span style="color:#c0e2a3;font-weight:500"></span><span style="color:#7edcda">channels:</span><span>
</span></span><span class=" pr-8"><span>  </span><span style="color:#c0e2a3;font-weight:500">/:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    publish:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Send</span><span> </span><span style="color:#c0e2a3;font-weight:500">messages</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">the</span><span> </span><span style="color:#c0e2a3;font-weight:500">API</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      operationId:</span><span> </span><span style="color:#c0e2a3;font-weight:500">processReceivedMessage</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      message:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        oneOf:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">          -</span><span> </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/messages/ping&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">          -</span><span> </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/messages/subscribe&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">          -</span><span> </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/messages/unsubscribe&#x27;</span><span>
</span></span><span class=" pr-8">
</span><span class=" pr-8"><span></span><span style="color:#7edcda">    subscribe:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Messages</span><span> </span><span style="color:#c0e2a3;font-weight:500">that</span><span> </span><span style="color:#c0e2a3;font-weight:500">you</span><span> </span><span style="color:#c0e2a3;font-weight:500">receive</span><span> </span><span style="color:#c0e2a3;font-weight:500">from</span><span> </span><span style="color:#c0e2a3;font-weight:500">the</span><span> </span><span style="color:#c0e2a3;font-weight:500">API</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      operationId:</span><span> </span><span style="color:#c0e2a3;font-weight:500">sendMessage</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      message:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        oneOf:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">          -</span><span> </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/messages/pong&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">          -</span><span> </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/messages/heartbeat&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">          -</span><span> </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/messages/systemStatus&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">          -</span><span> </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/messages/subscriptionStatus&#x27;</span><span>
</span></span><span class=" pr-8">
</span><span class=" pr-8"><span></span><span style="color:#7edcda">components:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">  messages:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    ping:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      summary:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Ping</span><span> </span><span style="color:#c0e2a3;font-weight:500">server</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">determine</span><span> </span><span style="color:#c0e2a3;font-weight:500">whether</span><span> </span><span style="color:#c0e2a3;font-weight:500">connection</span><span> </span><span style="color:#c0e2a3;font-weight:500">is</span><span> </span><span style="color:#c0e2a3;font-weight:500">alive</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Client</span><span> </span><span style="color:#c0e2a3;font-weight:500">can</span><span> </span><span style="color:#c0e2a3;font-weight:500">ping</span><span> </span><span style="color:#c0e2a3;font-weight:500">server</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">determine</span><span> </span><span style="color:#c0e2a3;font-weight:500">whether</span><span> </span><span style="color:#c0e2a3;font-weight:500">connection</span><span> </span><span style="color:#c0e2a3;font-weight:500">is</span><span> </span><span style="color:#c0e2a3;font-weight:500">alive,</span><span> </span><span style="color:#c0e2a3;font-weight:500">server</span><span> </span><span style="color:#c0e2a3;font-weight:500">responds</span><span> </span><span style="color:#c0e2a3;font-weight:500">with</span><span> </span><span style="color:#c0e2a3;font-weight:500">pong.</span><span> </span><span style="color:#c0e2a3;font-weight:500">This</span><span> </span><span style="color:#c0e2a3;font-weight:500">is</span><span> </span><span style="color:#c0e2a3;font-weight:500">an</span><span> </span><span style="color:#c0e2a3;font-weight:500">application</span><span> </span><span style="color:#c0e2a3;font-weight:500">level</span><span> </span><span style="color:#c0e2a3;font-weight:500">ping</span><span> </span><span style="color:#c0e2a3;font-weight:500">as</span><span> </span><span style="color:#c0e2a3;font-weight:500">opposed</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">default</span><span> </span><span style="color:#c0e2a3;font-weight:500">ping</span><span> </span><span style="color:#c0e2a3;font-weight:500">in</span><span> </span><span style="color:#c0e2a3;font-weight:500">websockets</span><span> </span><span style="color:#c0e2a3;font-weight:500">standard</span><span> </span><span style="color:#c0e2a3;font-weight:500">which</span><span> </span><span style="color:#c0e2a3;font-weight:500">is</span><span> </span><span style="color:#c0e2a3;font-weight:500">server</span><span> </span><span style="color:#c0e2a3;font-weight:500">initiated</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      payload:</span><span>
</span></span><span class=" pr-8"><span>        </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/ping&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      x-response:</span><span>
</span></span><span class=" pr-8"><span>        </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/messages/pong&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    heartbeat:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Server</span><span> </span><span style="color:#c0e2a3;font-weight:500">heartbeat</span><span> </span><span style="color:#c0e2a3;font-weight:500">sent</span><span> </span><span style="color:#c0e2a3;font-weight:500">if</span><span> </span><span style="color:#64a0dc">no</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscription</span><span> </span><span style="color:#c0e2a3;font-weight:500">traffic</span><span> </span><span style="color:#c0e2a3;font-weight:500">within</span><span> </span><span style="color:#d8da68">1</span><span> </span><span style="color:#c0e2a3;font-weight:500">second</span><span> </span><span style="color:#c0e2a3;font-weight:500">(approximately)</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      payload:</span><span>
</span></span><span class=" pr-8"><span>        </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/heartbeat&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    pong:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      summary:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Pong</span><span> </span><span style="color:#c0e2a3;font-weight:500">is</span><span> </span><span style="color:#c0e2a3;font-weight:500">a</span><span> </span><span style="color:#c0e2a3;font-weight:500">response</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">ping</span><span> </span><span style="color:#c0e2a3;font-weight:500">message</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Server</span><span> </span><span style="color:#c0e2a3;font-weight:500">pong</span><span> </span><span style="color:#c0e2a3;font-weight:500">response</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">a</span><span> </span><span style="color:#c0e2a3;font-weight:500">ping</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">determine</span><span> </span><span style="color:#c0e2a3;font-weight:500">whether</span><span> </span><span style="color:#c0e2a3;font-weight:500">connection</span><span> </span><span style="color:#c0e2a3;font-weight:500">is</span><span> </span><span style="color:#c0e2a3;font-weight:500">alive.</span><span> </span><span style="color:#c0e2a3;font-weight:500">This</span><span> </span><span style="color:#c0e2a3;font-weight:500">is</span><span> </span><span style="color:#c0e2a3;font-weight:500">an</span><span> </span><span style="color:#c0e2a3;font-weight:500">application</span><span> </span><span style="color:#c0e2a3;font-weight:500">level</span><span> </span><span style="color:#c0e2a3;font-weight:500">pong</span><span> </span><span style="color:#c0e2a3;font-weight:500">as</span><span> </span><span style="color:#c0e2a3;font-weight:500">opposed</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">default</span><span> </span><span style="color:#c0e2a3;font-weight:500">pong</span><span> </span><span style="color:#c0e2a3;font-weight:500">in</span><span> </span><span style="color:#c0e2a3;font-weight:500">websockets</span><span> </span><span style="color:#c0e2a3;font-weight:500">standard</span><span> </span><span style="color:#c0e2a3;font-weight:500">which</span><span> </span><span style="color:#c0e2a3;font-weight:500">is</span><span> </span><span style="color:#c0e2a3;font-weight:500">sent</span><span> </span><span style="color:#c0e2a3;font-weight:500">by</span><span> </span><span style="color:#c0e2a3;font-weight:500">client</span><span> </span><span style="color:#c0e2a3;font-weight:500">in</span><span> </span><span style="color:#c0e2a3;font-weight:500">response</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">a</span><span> </span><span style="color:#c0e2a3;font-weight:500">ping</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      payload:</span><span>
</span></span><span class=" pr-8"><span>        </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/pong&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    systemStatus:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Status</span><span> </span><span style="color:#c0e2a3;font-weight:500">sent</span><span> </span><span style="color:#c0e2a3;font-weight:500">on</span><span> </span><span style="color:#c0e2a3;font-weight:500">connection</span><span> </span><span style="color:#c0e2a3;font-weight:500">or</span><span> </span><span style="color:#c0e2a3;font-weight:500">system</span><span> </span><span style="color:#c0e2a3;font-weight:500">status</span><span> </span><span style="color:#c0e2a3;font-weight:500">changes.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      payload:</span><span>
</span></span><span class=" pr-8"><span>        </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/systemStatus&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      examples:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        - payload:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            connectionID:</span><span> </span><span style="color:#d8da68">8628615390848610000</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            event:</span><span> </span><span style="color:#c0e2a3;font-weight:500">systemStatus</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            status:</span><span> </span><span style="color:#c0e2a3;font-weight:500">online</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            version:</span><span> </span><span style="color:#d8da68">1.0</span><span style="color:#d8da68">.0</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    subscribe:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Subscribe</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">a</span><span> </span><span style="color:#c0e2a3;font-weight:500">topic</span><span> </span><span style="color:#c0e2a3;font-weight:500">on</span><span> </span><span style="color:#c0e2a3;font-weight:500">a</span><span> </span><span style="color:#c0e2a3;font-weight:500">single</span><span> </span><span style="color:#c0e2a3;font-weight:500">or</span><span> </span><span style="color:#c0e2a3;font-weight:500">multiple</span><span> </span><span style="color:#c0e2a3;font-weight:500">currency</span><span> </span><span style="color:#c0e2a3;font-weight:500">pairs.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      payload:</span><span>
</span></span><span class=" pr-8"><span>        </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/subscribe&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      examples:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        - payload:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            event:</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscribe</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            pair:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">              -</span><span> </span><span style="color:#c0e2a3;font-weight:500">XBT/USD</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">              -</span><span> </span><span style="color:#c0e2a3;font-weight:500">XBT/EUR</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            subscription:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              name:</span><span> </span><span style="color:#c0e2a3;font-weight:500">ticker</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        - payload:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            event:</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscribe</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            subscription:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              name:</span><span> </span><span style="color:#c0e2a3;font-weight:500">ownTrades</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              token:</span><span> </span><span style="color:#c0e2a3;font-weight:500">WW91ciBhdXRoZW50aWNhdGlvbiB0b2tlbiBnb2VzIGhlcmUu</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      x-response:</span><span>
</span></span><span class=" pr-8"><span>        </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/messages/subscriptionStatus&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    unsubscribe:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Unsubscribe,</span><span> </span><span style="color:#c0e2a3;font-weight:500">can</span><span> </span><span style="color:#c0e2a3;font-weight:500">specify</span><span> </span><span style="color:#c0e2a3;font-weight:500">a</span><span> </span><span style="color:#c0e2a3;font-weight:500">channelID</span><span> </span><span style="color:#c0e2a3;font-weight:500">or</span><span> </span><span style="color:#c0e2a3;font-weight:500">multiple</span><span> </span><span style="color:#c0e2a3;font-weight:500">currency</span><span> </span><span style="color:#c0e2a3;font-weight:500">pairs.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      payload:</span><span>
</span></span><span class=" pr-8"><span>        </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/subscribe&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      examples:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        - payload:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            event:</span><span> </span><span style="color:#c0e2a3;font-weight:500">unsubscribe</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            pair:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">              -</span><span> </span><span style="color:#c0e2a3;font-weight:500">XBT/EUR</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">              -</span><span> </span><span style="color:#c0e2a3;font-weight:500">XBT/USD</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            subscription:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              name:</span><span> </span><span style="color:#c0e2a3;font-weight:500">ticker</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        - payload:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            event:</span><span> </span><span style="color:#c0e2a3;font-weight:500">unsubscribe</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            subscription:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              name:</span><span> </span><span style="color:#c0e2a3;font-weight:500">ownTrades</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              token:</span><span> </span><span style="color:#c0e2a3;font-weight:500">WW91ciBhdXRoZW50aWNhdGlvbiB0b2tlbiBnb2VzIGhlcmUu</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      x-response:</span><span>
</span></span><span class=" pr-8"><span>        </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/messages/subscriptionStatus&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    subscriptionStatus:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Subscription</span><span> </span><span style="color:#c0e2a3;font-weight:500">status</span><span> </span><span style="color:#c0e2a3;font-weight:500">response</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscribe,</span><span> </span><span style="color:#c0e2a3;font-weight:500">unsubscribe</span><span> </span><span style="color:#c0e2a3;font-weight:500">or</span><span> </span><span style="color:#c0e2a3;font-weight:500">exchange</span><span> </span><span style="color:#c0e2a3;font-weight:500">initiated</span><span> </span><span style="color:#c0e2a3;font-weight:500">unsubscribe.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      payload:</span><span>
</span></span><span class=" pr-8"><span>        </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/subscriptionStatus&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      examples:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        - payload:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            channelID:</span><span> </span><span style="color:#d8da68">10001</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            channelName:</span><span> </span><span style="color:#c0e2a3;font-weight:500">ohlc-5</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            event:</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscriptionStatus</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            pair:</span><span> </span><span style="color:#c0e2a3;font-weight:500">XBT/EUR</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            reqid:</span><span> </span><span style="color:#d8da68">42</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            status:</span><span> </span><span style="color:#c0e2a3;font-weight:500">unsubscribed</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            subscription:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              interval:</span><span> </span><span style="color:#d8da68">5</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              name:</span><span> </span><span style="color:#c0e2a3;font-weight:500">ohlc</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        - payload:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            errorMessage:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Subscription</span><span> </span><span style="color:#c0e2a3;font-weight:500">depth</span><span> </span><span style="color:#c0e2a3;font-weight:500">not</span><span> </span><span style="color:#c0e2a3;font-weight:500">supported</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            event:</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscriptionStatus</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            pair:</span><span> </span><span style="color:#c0e2a3;font-weight:500">XBT/USD</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            status:</span><span> </span><span style="color:#c0e2a3;font-weight:500">error</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            subscription:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              depth:</span><span> </span><span style="color:#d8da68">42</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              name:</span><span> </span><span style="color:#c0e2a3;font-weight:500">book</span><span>
</span></span><span class=" pr-8">
</span><span class=" pr-8"><span></span><span style="color:#7edcda">  schemas:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    ping:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">object</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      properties:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        event:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">string</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          const:</span><span> </span><span style="color:#c0e2a3;font-weight:500">ping</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        reqid:</span><span>
</span></span><span class=" pr-8"><span>          </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/reqid&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      required:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">event</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    heartbeat:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">object</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      properties:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        event:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">string</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          const:</span><span> </span><span style="color:#c0e2a3;font-weight:500">heartbeat</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    pong:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">object</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      properties:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        event:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">string</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          const:</span><span> </span><span style="color:#c0e2a3;font-weight:500">pong</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        reqid:</span><span>
</span></span><span class=" pr-8"><span>          </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/reqid&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    systemStatus:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">object</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      properties:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        event:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">string</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          const:</span><span> </span><span style="color:#c0e2a3;font-weight:500">systemStatus</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        connectionID:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">integer</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">The</span><span> </span><span style="color:#c0e2a3;font-weight:500">ID</span><span> </span><span style="color:#c0e2a3;font-weight:500">of</span><span> </span><span style="color:#c0e2a3;font-weight:500">the</span><span> </span><span style="color:#c0e2a3;font-weight:500">connection</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        status:</span><span>
</span></span><span class=" pr-8"><span>          </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/status&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        version:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">string</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    status:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">string</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      enum:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">online</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">maintenance</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">cancel_only</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">limit_only</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">post_only</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    subscribe:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">object</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      properties:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        event:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">string</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          const:</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscribe</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        reqid:</span><span>
</span></span><span class=" pr-8"><span>          </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/reqid&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        pair:</span><span>
</span></span><span class=" pr-8"><span>          </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/pair&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        subscription:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">object</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          properties:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            depth:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/depth&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            interval:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/interval&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            name:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/name&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            ratecounter:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/ratecounter&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            snapshot:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/snapshot&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            token:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/token&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          required:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">            -</span><span> </span><span style="color:#c0e2a3;font-weight:500">name</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      required:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">event</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    unsubscribe:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">object</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      properties:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        event:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">string</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          const:</span><span> </span><span style="color:#c0e2a3;font-weight:500">unsubscribe</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        reqid:</span><span>
</span></span><span class=" pr-8"><span>          </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/reqid&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        pair:</span><span>
</span></span><span class=" pr-8"><span>          </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/pair&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        subscription:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">object</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          properties:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            depth:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/depth&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            interval:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/interval&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            name:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/name&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            token:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/token&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          required:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">            -</span><span> </span><span style="color:#c0e2a3;font-weight:500">name</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      required:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">event</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    subscriptionStatus:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">object</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      oneOf:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/subscriptionStatusError&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/subscriptionStatusSuccess&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    subscriptionStatusError:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      allOf:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        - properties:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            errorMessage:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">string</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          required:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">            -</span><span> </span><span style="color:#c0e2a3;font-weight:500">errorMessage</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/subscriptionStatusCommon&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    subscriptionStatusSuccess:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      allOf:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        - properties:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            channelID:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">integer</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">ChannelID</span><span> </span><span style="color:#c0e2a3;font-weight:500">on</span><span> </span><span style="color:#c0e2a3;font-weight:500">successful</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscription,</span><span> </span><span style="color:#c0e2a3;font-weight:500">applicable</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">public</span><span> </span><span style="color:#c0e2a3;font-weight:500">messages</span><span> </span><span style="color:#c0e2a3;font-weight:500">only.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            channelName:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">string</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">              description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Channel</span><span> </span><span style="color:#c0e2a3;font-weight:500">Name</span><span> </span><span style="color:#c0e2a3;font-weight:500">on</span><span> </span><span style="color:#c0e2a3;font-weight:500">successful</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscription.</span><span> </span><span style="color:#c0e2a3;font-weight:500">For</span><span> </span><span style="color:#c0e2a3;font-weight:500">payloads</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;ohlc&#x27;</span><span> </span><span style="color:#c0e2a3;font-weight:500">and</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;book&#x27;</span><span style="color:#c0e2a3;font-weight:500">,</span><span> </span><span style="color:#c0e2a3;font-weight:500">respective</span><span> </span><span style="color:#c0e2a3;font-weight:500">interval</span><span> </span><span style="color:#c0e2a3;font-weight:500">or</span><span> </span><span style="color:#c0e2a3;font-weight:500">depth</span><span> </span><span style="color:#c0e2a3;font-weight:500">will</span><span> </span><span style="color:#c0e2a3;font-weight:500">be</span><span> </span><span style="color:#c0e2a3;font-weight:500">added</span><span> </span><span style="color:#c0e2a3;font-weight:500">as</span><span> </span><span style="color:#c0e2a3;font-weight:500">suffix.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          required:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">            -</span><span> </span><span style="color:#c0e2a3;font-weight:500">channelID</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">            -</span><span> </span><span style="color:#c0e2a3;font-weight:500">channelName</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/subscriptionStatusCommon&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    subscriptionStatusCommon:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">object</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      required:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">         -</span><span> </span><span style="color:#c0e2a3;font-weight:500">event</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      properties:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        event:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">string</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          const:</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscriptionStatus</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        reqid:</span><span>
</span></span><span class=" pr-8"><span>          </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/reqid&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        pair:</span><span>
</span></span><span class=" pr-8"><span>          </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/pair&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        status:</span><span>
</span></span><span class=" pr-8"><span>          </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/status&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        subscription:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          required:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">            -</span><span> </span><span style="color:#c0e2a3;font-weight:500">name</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">object</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">          properties:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            depth:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/depth&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            interval:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/interval&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            maxratecount:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/maxratecount&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            name:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/name&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">            token:</span><span>
</span></span><span class=" pr-8"><span>              </span><span style="color:#c0e2a3;font-weight:500">$ref:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;#/components/schemas/token&#x27;</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    interval:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">integer</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Time</span><span> </span><span style="color:#c0e2a3;font-weight:500">interval</span><span> </span><span style="color:#c0e2a3;font-weight:500">associated</span><span> </span><span style="color:#c0e2a3;font-weight:500">with</span><span> </span><span style="color:#c0e2a3;font-weight:500">ohlc</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscription</span><span> </span><span style="color:#c0e2a3;font-weight:500">in</span><span> </span><span style="color:#c0e2a3;font-weight:500">minutes.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      default:</span><span> </span><span style="color:#d8da68">1</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      enum:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#d8da68">1</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#d8da68">5</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#d8da68">15</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#d8da68">30</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#d8da68">60</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#d8da68">240</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#d8da68">1440</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#d8da68">10080</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#d8da68">21600</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    name:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">string</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">The</span><span> </span><span style="color:#c0e2a3;font-weight:500">name</span><span> </span><span style="color:#c0e2a3;font-weight:500">of</span><span> </span><span style="color:#c0e2a3;font-weight:500">the</span><span> </span><span style="color:#c0e2a3;font-weight:500">channel</span><span> </span><span style="color:#c0e2a3;font-weight:500">you</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscribe</span><span> </span><span style="color:#c0e2a3;font-weight:500">too.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      enum:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">book</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">ohlc</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">openOrders</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">ownTrades</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">spread</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">ticker</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#c0e2a3;font-weight:500">trade</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    token:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">string</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">base64-encoded</span><span> </span><span style="color:#c0e2a3;font-weight:500">authentication</span><span> </span><span style="color:#c0e2a3;font-weight:500">token</span><span> </span><span style="color:#c0e2a3;font-weight:500">for</span><span> </span><span style="color:#c0e2a3;font-weight:500">private-data</span><span> </span><span style="color:#c0e2a3;font-weight:500">endpoints.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    depth:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">integer</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      default:</span><span> </span><span style="color:#d8da68">10</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      enum:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#d8da68">10</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#d8da68">25</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#d8da68">100</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#d8da68">500</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#64a0dc">        -</span><span> </span><span style="color:#d8da68">1000</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Depth</span><span> </span><span style="color:#c0e2a3;font-weight:500">associated</span><span> </span><span style="color:#c0e2a3;font-weight:500">with</span><span> </span><span style="color:#c0e2a3;font-weight:500">book</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscription</span><span> </span><span style="color:#c0e2a3;font-weight:500">in</span><span> </span><span style="color:#c0e2a3;font-weight:500">number</span><span> </span><span style="color:#c0e2a3;font-weight:500">of</span><span> </span><span style="color:#c0e2a3;font-weight:500">levels</span><span> </span><span style="color:#c0e2a3;font-weight:500">each</span><span> </span><span style="color:#c0e2a3;font-weight:500">side.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    maxratecount:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">integer</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Max</span><span> </span><span style="color:#c0e2a3;font-weight:500">rate-limit</span><span> </span><span style="color:#c0e2a3;font-weight:500">budget.</span><span> </span><span style="color:#c0e2a3;font-weight:500">Compare</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">the</span><span> </span><span style="color:#c0e2a3;font-weight:500">ratecounter</span><span> </span><span style="color:#c0e2a3;font-weight:500">field</span><span> </span><span style="color:#c0e2a3;font-weight:500">in</span><span> </span><span style="color:#c0e2a3;font-weight:500">the</span><span> </span><span style="color:#c0e2a3;font-weight:500">openOrders</span><span> </span><span style="color:#c0e2a3;font-weight:500">updates</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">check</span><span> </span><span style="color:#c0e2a3;font-weight:500">whether</span><span> </span><span style="color:#c0e2a3;font-weight:500">you</span><span> </span><span style="color:#c0e2a3;font-weight:500">are</span><span> </span><span style="color:#c0e2a3;font-weight:500">approaching</span><span> </span><span style="color:#c0e2a3;font-weight:500">the</span><span> </span><span style="color:#c0e2a3;font-weight:500">rate</span><span> </span><span style="color:#c0e2a3;font-weight:500">limit.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    ratecounter:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">boolean</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      default:</span><span> </span><span style="color:#64a0dc">false</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Whether</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">send</span><span> </span><span style="color:#c0e2a3;font-weight:500">rate-limit</span><span> </span><span style="color:#c0e2a3;font-weight:500">counter</span><span> </span><span style="color:#c0e2a3;font-weight:500">in</span><span> </span><span style="color:#c0e2a3;font-weight:500">updates</span><span> </span><span style="color:#c0e2a3;font-weight:500">(supported</span><span> </span><span style="color:#c0e2a3;font-weight:500">only</span><span> </span><span style="color:#c0e2a3;font-weight:500">for</span><span> </span><span style="color:#c0e2a3;font-weight:500">openOrders</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscriptions)</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    snapshot:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">boolean</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      default:</span><span> </span><span style="color:#64a0dc">true</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Whether</span><span> </span><span style="color:#c0e2a3;font-weight:500">to</span><span> </span><span style="color:#c0e2a3;font-weight:500">send</span><span> </span><span style="color:#c0e2a3;font-weight:500">historical</span><span> </span><span style="color:#c0e2a3;font-weight:500">feed</span><span> </span><span style="color:#c0e2a3;font-weight:500">data</span><span> </span><span style="color:#c0e2a3;font-weight:500">snapshot</span><span> </span><span style="color:#c0e2a3;font-weight:500">upon</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscription</span><span> </span><span style="color:#c0e2a3;font-weight:500">(supported</span><span> </span><span style="color:#c0e2a3;font-weight:500">only</span><span> </span><span style="color:#c0e2a3;font-weight:500">for</span><span> </span><span style="color:#c0e2a3;font-weight:500">ownTrades</span><span> </span><span style="color:#c0e2a3;font-weight:500">subscriptions)</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    reqid:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">integer</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">client</span><span> </span><span style="color:#c0e2a3;font-weight:500">originated</span><span> </span><span style="color:#c0e2a3;font-weight:500">ID</span><span> </span><span style="color:#c0e2a3;font-weight:500">reflected</span><span> </span><span style="color:#c0e2a3;font-weight:500">in</span><span> </span><span style="color:#c0e2a3;font-weight:500">response</span><span> </span><span style="color:#c0e2a3;font-weight:500">message.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">    pair:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">array</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Array</span><span> </span><span style="color:#c0e2a3;font-weight:500">of</span><span> </span><span style="color:#c0e2a3;font-weight:500">currency</span><span> </span><span style="color:#c0e2a3;font-weight:500">pairs.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">      items:</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        type:</span><span> </span><span style="color:#c0e2a3;font-weight:500">string</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        description:</span><span> </span><span style="color:#c0e2a3;font-weight:500">Format</span><span> </span><span style="color:#c0e2a3;font-weight:500">of</span><span> </span><span style="color:#c0e2a3;font-weight:500">each</span><span> </span><span style="color:#c0e2a3;font-weight:500">pair</span><span> </span><span style="color:#c0e2a3;font-weight:500">is</span><span> </span><span style="color:#c0e2a3;font-weight:500">&quot;A/B&quot;</span><span style="color:#c0e2a3;font-weight:500">,</span><span> </span><span style="color:#c0e2a3;font-weight:500">where</span><span> </span><span style="color:#c0e2a3;font-weight:500">A</span><span> </span><span style="color:#c0e2a3;font-weight:500">and</span><span> </span><span style="color:#c0e2a3;font-weight:500">B</span><span> </span><span style="color:#c0e2a3;font-weight:500">are</span><span> </span><span style="color:#c0e2a3;font-weight:500">ISO</span><span> </span><span style="color:#d8da68">4217</span><span style="color:#64a0dc">-A3</span><span> </span><span style="color:#c0e2a3;font-weight:500">for</span><span> </span><span style="color:#c0e2a3;font-weight:500">standardized</span><span> </span><span style="color:#c0e2a3;font-weight:500">assets</span><span> </span><span style="color:#c0e2a3;font-weight:500">and</span><span> </span><span style="color:#c0e2a3;font-weight:500">popular</span><span> </span><span style="color:#c0e2a3;font-weight:500">unique</span><span> </span><span style="color:#c0e2a3;font-weight:500">symbol</span><span> </span><span style="color:#c0e2a3;font-weight:500">if</span><span> </span><span style="color:#c0e2a3;font-weight:500">not</span><span> </span><span style="color:#c0e2a3;font-weight:500">standardized.</span><span>
</span></span><span class=" pr-8"><span></span><span style="color:#7edcda">        pattern:</span><span> </span><span style="color:#c0e2a3;font-weight:500">&#x27;[A-Z\s]+\/[A-Z\s]+&#x27;</span></span></code></pre></div></div></div></div><blockquote class=" italic font-sans antialiased text-gray-400 border-l-4 border-gray-400 pl-4 pt-1 pb-1 pr-1 my-4 bg-white"><p class=" my-4 text-gray-700 font-normal font-sans antialiased"><strong class=" my-4 text-gray-700 font-semibold font-sans antialiased">Personal note</strong> <br/><undefined>
If you can, if you are in a planning phase, new project, etc., then start designing your architecture with AsyncAPI. Don&#x27;t do the mistake of coding first and then trying to figure out how to describe it with AsyncAPI <span role="img" aria-label="smiling face with open mouth &amp; cold sweat">üòÖ</span></undefined></p></blockquote><p class=" my-4 text-gray-700 font-normal font-sans antialiased"><undefined>Stay tuned for the next blog post that guides you step by step through the above document <span role="img" aria-label="peace symbol">‚òÆÔ∏è</span></undefined></p><blockquote class=" italic font-sans antialiased text-gray-400 border-l-4 border-gray-400 pl-4 pt-1 pb-1 pr-1 my-4 bg-white"><p class=" my-4 text-gray-700 font-normal font-sans antialiased">I recommend you also read another article from the series about WebSocket: <a href="/blog/websocket-part2" class="text-primary-600 font-medium hover:text-primary-500 font-sans antialiased">Creating AsyncAPI for WebSocket API - Step by Step</a>.</p></blockquote></article></main></div><div class="bg-white mt-12"><div class="bg-primary-900 py-12"><div class="max-w-screen-xl block   px-4 sm:px-6 lg:px-8 mx-auto block   px-4 sm:px-6 lg:px-8"><div class="p-8"><h3 class="text-primary-200 text-lg font-bold">Subscribe to our newsletter to receive news about AsyncAPI.</h3><p class="text-gray-400 mt-2 text-sm">We respect your inbox. No spam, promise ‚úåÔ∏è</p><form class="mt-4 md:flex" data-netlify="true"><input type="hidden" name="form-name" value="form 2"/><input type="hidden" name="type"/><input type="text" name="name" placeholder="Your name" class="form-input block w-full sm:text-sm sm:leading-5 md:mr-2 md:mt-0 md:flex-1" required=""/><input type="email" name="email" placeholder="Your email" class="form-input block w-full mt-2 sm:text-sm sm:leading-5 md:mr-2 md:mt-0 md:flex-1" required=""/><button type="submit" class="bg-primary-500 hover:bg-primary-400 text-white hover:text-white shadow-md hover:shadow-lg transition-all duration-500 ease-in-out rounded px-4 py-3 text-white w-full mt-2 md:mr-2 md:mt-0 md:flex-1"><span class="inline-block">Subscribe</span></button></form></div></div></div><div class="max-w-screen-xl mx-auto py-12 px-4 overflow-hidden sm:px-6 lg:px-8"><nav class="-mx-5 -my-2 flex flex-wrap justify-center"><div class="px-5 py-2"><a href="/about" class="text-base leading-6 text-gray-500 hover:text-gray-900">About</a></div><div class="px-5 py-2"><a href="/blog" class="text-base leading-6 text-gray-500 hover:text-gray-900">Blog</a></div><div class="px-5 py-2"><a href="https://asyncapi.threadless.com" target="_blank" class="text-base leading-6 text-gray-500 hover:text-gray-900">Shop</a></div><div class="px-5 py-2"><a href="/jobs" class="text-base leading-6 text-gray-500 hover:text-gray-900">Jobs</a></div><div class="px-5 py-2"><a href="mailto:press@asyncapi.io" class="text-base leading-6 text-gray-500 hover:text-gray-900">Press</a></div></nav><div class="mt-8 flex justify-center"><a href="https://twitter.com/AsyncAPISpec" target="_blank" class="text-gray-400 hover:text-blue-500"><span class="sr-only">Twitter</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a><a href="https://github.com/asyncapi" target="_blank" class="ml-6 text-gray-400 hover:text-gray-500"><span class="sr-only">GitHub</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg></a><a href="https://linkedin.com/company/asyncapi" target="_blank" class="ml-6 text-gray-400 hover:text-blue-500"><span class="sr-only">LinkedIn</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 22" enable-background="new 0 0 21 22" fill="currentColor" class="h-6 w-6"><path d="M5,3c0,1.1-0.7,2-2,2C1.8,5,1,4.1,1,3.1C1,2,1.8,1,3,1S5,1.9,5,3z M1,19h4V6H1V19z M14.6,6.2c-2.1,0-3.3,1.2-3.8,2h-0.1 l-0.2-1.7H6.9C6.9,7.6,7,8.9,7,10.4V19h4v-7.1c0-0.4,0-0.7,0.1-1c0.3-0.7,0.8-1.6,1.9-1.6c1.4,0,2,1.2,2,2.8V19h4v-7.4 C19,7.9,17.1,6.2,14.6,6.2z"></path></svg></a><a href="https://youtube.com/asyncapi" target="_blank" class="ml-6 text-gray-400 hover:text-red-600"><span class="sr-only">YouTube</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-6 w-6"><path d="M10,2.3C0.172,2.3,0,3.174,0,10s0.172,7.7,10,7.7s10-0.874,10-7.7S19.828,2.3,10,2.3z M13.205,10.334l-4.49,2.096 C8.322,12.612,8,12.408,8,11.974V8.026C8,7.593,8.322,7.388,8.715,7.57l4.49,2.096C13.598,9.85,13.598,10.15,13.205,10.334z"></path></svg></a></div><div class="mt-8"><p class="text-center text-base leading-6 text-gray-400">Made with <span class="font-mono text-pink-500">:love:</span> by the AsyncAPI Initiative.</p><p class="text-center text-base leading-6 text-gray-400 mt-4"><a href="https://netlify.com" target="_blank"><img src="https://www.netlify.com/img/global/badges/netlify-color-bg.svg" class="inline"/></a></p><p class="text-center text-base leading-6 text-gray-400 mt-4">Copyright ¬© AsyncAPI Project a Series of LF Projects, LLC.</p><p class="text-center text-base leading-6 text-gray-400 mt-1">For web site terms of use, trademark policy and general project policies please see <a href="https://lfprojects.org" class="text-gray-700 underline" target="_blank">https://lfprojects.org</a></p></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/blog/websocket-part1","query":{},"buildId":"Tex625tf_lnUaoCgL3YGh","nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/_next/static/runtime/polyfills-9a3984dd490beb07be5c.js"></script><script async="" data-next-page="/_app" src="/_next/static/Tex625tf_lnUaoCgL3YGh/pages/_app.js"></script><script async="" data-next-page="/blog/websocket-part1" src="/_next/static/Tex625tf_lnUaoCgL3YGh/pages/blog/websocket-part1.js"></script><script src="/_next/static/runtime/webpack-c212667a5f965e81e004.js" async=""></script><script src="/_next/static/chunks/framework.4dd1003cc9c949c7fcd3.js" async=""></script><script src="/_next/static/chunks/75fc9c18.3cfc8ccb85c1d7a11215.js" async=""></script><script src="/_next/static/chunks/ce56b752.ae226c74e10a6a4b10b8.js" async=""></script><script src="/_next/static/chunks/0557f841fc85a2834d7f888fce8afe60a4489f1d.c7c389ed4e650b7acdd9.js" async=""></script><script src="/_next/static/chunks/5d64a570782c3ceba4f83b61f6533a7ee91bc9f8.3990439058315e1f2df7.js" async=""></script><script src="/_next/static/chunks/be6d319af1fb18412639ef154d1e4d762d2a273e.4cb9699241b781436ae4.js" async=""></script><script src="/_next/static/chunks/4f5700c3a68d16ffc40162e6214bdf91e1aeaf40.af98a8a489a62e744487.js" async=""></script><script src="/_next/static/runtime/main-9425739e3a9a3f3edaa6.js" async=""></script><script src="/_next/static/Tex625tf_lnUaoCgL3YGh/_buildManifest.js" async=""></script><script src="/_next/static/Tex625tf_lnUaoCgL3YGh/_ssgManifest.js" async=""></script></body></html>